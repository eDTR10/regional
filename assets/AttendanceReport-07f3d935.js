import{p as gn,r as o,ab as vn,ad as Et,ae as xn,af as bn,ag as yn,ah as Cn,ai as ce,aj as $n,ak as En,al as wn,am as jn,an as Sn,ao as Rn,ap as wt,j as r,q as J,e as An,aq as Pn,ar as jt,as as St,at as Rt,y as At,au as ve,av as Pt,aw as Dn,ax as Nn,ay as Tn,az as In,aA as kn,aB as On,aC as Ln,aD as Fn,aE as Mn,aF as _n,aG as Bn,O as Z,aH as Un,aI as Hn,aJ as Kn,c as Ue,m as zn,aK as Vn,aL as Wn,aM as C,aN as $,aO as et,aP as Yn,aQ as Gn,aR as Xn,aS as qn,aT as Zn,aU as Jn,A as tt,F as nt,J as rt,K as ot,N as B,aV as at,aW as Qn,aX as er,aY as tr,aZ as nr,a_ as rr,a$ as or,b0 as ar,b1 as sr,S as st,b2 as lt,b3 as lr,f as ir,g as cr,h as Te,i as we,k as it,l as pe,b4 as dr,d as ur,a as je}from"./index-a5583063.js";import{_ as K}from"./extends-4c19d496.js";const fr=gn("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);var ct=1,hr=.9,mr=.8,pr=.17,Ie=.1,ke=.999,gr=.9999,vr=.99,xr=/[\\\/_+.#"@\[\(\{&]/,br=/[\\\/_+.#"@\[\(\{&]/g,yr=/[\s-]/,Dt=/[\s-]/g;function He(e,n,t,a,s,l,c){if(l===n.length)return s===e.length?ct:vr;var i=`${s},${l}`;if(c[i]!==void 0)return c[i];for(var d=a.charAt(l),u=t.indexOf(d,s),f=0,h,E,y,N;u>=0;)h=He(e,n,t,a,u+1,l+1,c),h>f&&(u===s?h*=ct:xr.test(e.charAt(u-1))?(h*=mr,y=e.slice(s,u-1).match(br),y&&s>0&&(h*=Math.pow(ke,y.length))):yr.test(e.charAt(u-1))?(h*=hr,N=e.slice(s,u-1).match(Dt),N&&s>0&&(h*=Math.pow(ke,N.length))):(h*=pr,s>0&&(h*=Math.pow(ke,u-s))),e.charAt(u)!==n.charAt(l)&&(h*=gr)),(h<Ie&&t.charAt(u-1)===a.charAt(l+1)||a.charAt(l+1)===a.charAt(l)&&t.charAt(u-1)!==a.charAt(l))&&(E=He(e,n,t,a,u+1,l+2,c),E*Ie>h&&(h=E*Ie)),h>f&&(f=h),u=t.indexOf(d,u+1);return c[i]=f,f}function dt(e){return e.toLowerCase().replace(Dt," ")}function Cr(e,n,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,He(e,n,dt(e),dt(n),0,0,{})}function ue(e,n,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e==null||e(s),t===!1||!s.defaultPrevented)return n==null?void 0:n(s)}}function $r(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Nt(...e){return n=>e.forEach(t=>$r(t,n))}function ye(...e){return o.useCallback(Nt(...e),e)}function Er(e,n=[]){let t=[];function a(l,c){const i=o.createContext(c),d=t.length;t=[...t,c];function u(h){const{scope:E,children:y,...N}=h,v=(E==null?void 0:E[e][d])||i,b=o.useMemo(()=>N,Object.values(N));return o.createElement(v.Provider,{value:b},y)}function f(h,E){const y=(E==null?void 0:E[e][d])||i,N=o.useContext(y);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${h}\` must be used within \`${l}\``)}return u.displayName=l+"Provider",[u,f]}const s=()=>{const l=t.map(c=>o.createContext(c));return function(i){const d=(i==null?void 0:i[e])||l;return o.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return s.scopeName=e,[a,wr(s,...n)]}function wr(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((i,{useScope:d,scopeName:u})=>{const h=d(l)[`__scope${u}`];return{...i,...h}},{});return o.useMemo(()=>({[`__scope${n.scopeName}`]:c}),[c])}};return t.scopeName=n.scopeName,t}const Ke=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},jr=vn["useId".toString()]||(()=>{});let Sr=0;function Oe(e){const[n,t]=o.useState(jr());return Ke(()=>{e||t(a=>a??String(Sr++))},[e]),e||(n?`radix-${n}`:"")}function ne(e){const n=o.useRef(e);return o.useEffect(()=>{n.current=e}),o.useMemo(()=>(...t)=>{var a;return(a=n.current)===null||a===void 0?void 0:a.call(n,...t)},[])}function Rr({prop:e,defaultProp:n,onChange:t=()=>{}}){const[a,s]=Ar({defaultProp:n,onChange:t}),l=e!==void 0,c=l?e:a,i=ne(t),d=o.useCallback(u=>{if(l){const h=typeof u=="function"?u(e):u;h!==e&&i(h)}else s(u)},[l,e,s,i]);return[c,d]}function Ar({defaultProp:e,onChange:n}){const t=o.useState(e),[a]=t,s=o.useRef(a),l=ne(n);return o.useEffect(()=>{s.current!==a&&(l(a),s.current=a)},[a,s,l]),t}const Xe=o.forwardRef((e,n)=>{const{children:t,...a}=e,s=o.Children.toArray(t),l=s.find(Dr);if(l){const c=l.props.children,i=s.map(d=>d===l?o.Children.count(c)>1?o.Children.only(null):o.isValidElement(c)?c.props.children:null:d);return o.createElement(ze,K({},a,{ref:n}),o.isValidElement(c)?o.cloneElement(c,void 0,i):null)}return o.createElement(ze,K({},a,{ref:n}),t)});Xe.displayName="Slot";const ze=o.forwardRef((e,n)=>{const{children:t,...a}=e;return o.isValidElement(t)?o.cloneElement(t,{...Nr(a,t.props),ref:n?Nt(n,t.ref):t.ref}):o.Children.count(t)>1?o.Children.only(null):null});ze.displayName="SlotClone";const Pr=({children:e})=>o.createElement(o.Fragment,null,e);function Dr(e){return o.isValidElement(e)&&e.type===Pr}function Nr(e,n){const t={...n};for(const a in n){const s=e[a],l=n[a];/^on[A-Z]/.test(a)?s&&l?t[a]=(...i)=>{l(...i),s(...i)}:s&&(t[a]=s):a==="style"?t[a]={...s,...l}:a==="className"&&(t[a]=[s,l].filter(Boolean).join(" "))}return{...e,...t}}const Tr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Y=Tr.reduce((e,n)=>{const t=o.forwardRef((a,s)=>{const{asChild:l,...c}=a,i=l?Xe:n;return o.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.createElement(i,K({},c,{ref:s}))});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function Ir(e,n){e&&Et.flushSync(()=>e.dispatchEvent(n))}function kr(e,n=globalThis==null?void 0:globalThis.document){const t=ne(e);o.useEffect(()=>{const a=s=>{s.key==="Escape"&&t(s)};return n.addEventListener("keydown",a),()=>n.removeEventListener("keydown",a)},[t,n])}const Ve="dismissableLayer.update",Or="dismissableLayer.pointerDownOutside",Lr="dismissableLayer.focusOutside";let ut;const Fr=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mr=o.forwardRef((e,n)=>{var t;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:i,onDismiss:d,...u}=e,f=o.useContext(Fr),[h,E]=o.useState(null),y=(t=h==null?void 0:h.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,N]=o.useState({}),v=ye(n,g=>E(g)),b=Array.from(f.layers),[R]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),m=b.indexOf(R),x=h?b.indexOf(h):-1,D=f.layersWithOutsidePointerEventsDisabled.size>0,S=x>=m,j=_r(g=>{const A=g.target,k=[...f.branches].some(M=>M.contains(A));!S||k||(l==null||l(g),i==null||i(g),g.defaultPrevented||d==null||d())},y),I=Br(g=>{const A=g.target;[...f.branches].some(M=>M.contains(A))||(c==null||c(g),i==null||i(g),g.defaultPrevented||d==null||d())},y);return kr(g=>{x===f.layers.size-1&&(s==null||s(g),!g.defaultPrevented&&d&&(g.preventDefault(),d()))},y),o.useEffect(()=>{if(h)return a&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(ut=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),ft(),()=>{a&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=ut)}},[h,y,a,f]),o.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),ft())},[h,f]),o.useEffect(()=>{const g=()=>N({});return document.addEventListener(Ve,g),()=>document.removeEventListener(Ve,g)},[]),o.createElement(Y.div,K({},u,{ref:v,style:{pointerEvents:D?S?"auto":"none":void 0,...e.style},onFocusCapture:ue(e.onFocusCapture,I.onFocusCapture),onBlurCapture:ue(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:ue(e.onPointerDownCapture,j.onPointerDownCapture)}))});function _r(e,n=globalThis==null?void 0:globalThis.document){const t=ne(e),a=o.useRef(!1),s=o.useRef(()=>{});return o.useEffect(()=>{const l=i=>{if(i.target&&!a.current){let u=function(){Tt(Or,t,d,{discrete:!0})};const d={originalEvent:i};i.pointerType==="touch"?(n.removeEventListener("click",s.current),s.current=u,n.addEventListener("click",s.current,{once:!0})):u()}else n.removeEventListener("click",s.current);a.current=!1},c=window.setTimeout(()=>{n.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),n.removeEventListener("pointerdown",l),n.removeEventListener("click",s.current)}},[n,t]),{onPointerDownCapture:()=>a.current=!0}}function Br(e,n=globalThis==null?void 0:globalThis.document){const t=ne(e),a=o.useRef(!1);return o.useEffect(()=>{const s=l=>{l.target&&!a.current&&Tt(Lr,t,{originalEvent:l},{discrete:!1})};return n.addEventListener("focusin",s),()=>n.removeEventListener("focusin",s)},[n,t]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ft(){const e=new CustomEvent(Ve);document.dispatchEvent(e)}function Tt(e,n,t,{discrete:a}){const s=t.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&s.addEventListener(e,n,{once:!0}),a?Ir(s,l):s.dispatchEvent(l)}const Le="focusScope.autoFocusOnMount",Fe="focusScope.autoFocusOnUnmount",ht={bubbles:!1,cancelable:!0},Ur=o.forwardRef((e,n)=>{const{loop:t=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...c}=e,[i,d]=o.useState(null),u=ne(s),f=ne(l),h=o.useRef(null),E=ye(n,v=>d(v)),y=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(a){let v=function(x){if(y.paused||!i)return;const D=x.target;i.contains(D)?h.current=D:q(h.current,{select:!0})},b=function(x){if(y.paused||!i)return;const D=x.relatedTarget;D!==null&&(i.contains(D)||q(h.current,{select:!0}))},R=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&q(i)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const m=new MutationObserver(R);return i&&m.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),m.disconnect()}}},[a,i,y.paused]),o.useEffect(()=>{if(i){pt.add(y);const v=document.activeElement;if(!i.contains(v)){const R=new CustomEvent(Le,ht);i.addEventListener(Le,u),i.dispatchEvent(R),R.defaultPrevented||(Hr(Yr(It(i)),{select:!0}),document.activeElement===v&&q(i))}return()=>{i.removeEventListener(Le,u),setTimeout(()=>{const R=new CustomEvent(Fe,ht);i.addEventListener(Fe,f),i.dispatchEvent(R),R.defaultPrevented||q(v??document.body,{select:!0}),i.removeEventListener(Fe,f),pt.remove(y)},0)}}},[i,u,f,y]);const N=o.useCallback(v=>{if(!t&&!a||y.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,R=document.activeElement;if(b&&R){const m=v.currentTarget,[x,D]=Kr(m);x&&D?!v.shiftKey&&R===D?(v.preventDefault(),t&&q(x,{select:!0})):v.shiftKey&&R===x&&(v.preventDefault(),t&&q(D,{select:!0})):R===m&&v.preventDefault()}},[t,a,y.paused]);return o.createElement(Y.div,K({tabIndex:-1},c,{ref:E,onKeyDown:N}))});function Hr(e,{select:n=!1}={}){const t=document.activeElement;for(const a of e)if(q(a,{select:n}),document.activeElement!==t)return}function Kr(e){const n=It(e),t=mt(n,e),a=mt(n.reverse(),e);return[t,a]}function It(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function mt(e,n){for(const t of e)if(!zr(t,{upTo:n}))return t}function zr(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Vr(e){return e instanceof HTMLInputElement&&"select"in e}function q(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Vr(e)&&n&&e.select()}}const pt=Wr();function Wr(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=gt(e,n),e.unshift(n)},remove(n){var t;e=gt(e,n),(t=e[0])===null||t===void 0||t.resume()}}}function gt(e,n){const t=[...e],a=t.indexOf(n);return a!==-1&&t.splice(a,1),t}function Yr(e){return e.filter(n=>n.tagName!=="A")}const Gr=o.forwardRef((e,n)=>{var t;const{container:a=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...s}=e;return a?xn.createPortal(o.createElement(Y.div,K({},s,{ref:n})),a):null});function Xr(e,n){return o.useReducer((t,a)=>{const s=n[t][a];return s??t},e)}const Pe=e=>{const{present:n,children:t}=e,a=qr(n),s=typeof t=="function"?t({present:a.isPresent}):o.Children.only(t),l=ye(a.ref,s.ref);return typeof t=="function"||a.isPresent?o.cloneElement(s,{ref:l}):null};Pe.displayName="Presence";function qr(e){const[n,t]=o.useState(),a=o.useRef({}),s=o.useRef(e),l=o.useRef("none"),c=e?"mounted":"unmounted",[i,d]=Xr(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const u=Se(a.current);l.current=i==="mounted"?u:"none"},[i]),Ke(()=>{const u=a.current,f=s.current;if(f!==e){const E=l.current,y=Se(u);e?d("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&E!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Ke(()=>{if(n){const u=h=>{const y=Se(a.current).includes(h.animationName);h.target===n&&y&&Et.flushSync(()=>d("ANIMATION_END"))},f=h=>{h.target===n&&(l.current=Se(a.current))};return n.addEventListener("animationstart",f),n.addEventListener("animationcancel",u),n.addEventListener("animationend",u),()=>{n.removeEventListener("animationstart",f),n.removeEventListener("animationcancel",u),n.removeEventListener("animationend",u)}}else d("ANIMATION_END")},[n,d]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:o.useCallback(u=>{u&&(a.current=getComputedStyle(u)),t(u)},[])}}function Se(e){return(e==null?void 0:e.animationName)||"none"}let Me=0;function Zr(){o.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!==null&&e!==void 0?e:vt()),document.body.insertAdjacentElement("beforeend",(n=t[1])!==null&&n!==void 0?n:vt()),Me++,()=>{Me===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Me--}},[])}function vt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var kt=bn(),_e=function(){},De=o.forwardRef(function(e,n){var t=o.useRef(null),a=o.useState({onScrollCapture:_e,onWheelCapture:_e,onTouchMoveCapture:_e}),s=a[0],l=a[1],c=e.forwardProps,i=e.children,d=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,E=e.sideCar,y=e.noIsolation,N=e.inert,v=e.allowPinchZoom,b=e.as,R=b===void 0?"div":b,m=yn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=E,D=Cn([t,n]),S=ce(ce({},m),s);return o.createElement(o.Fragment,null,f&&o.createElement(x,{sideCar:kt,removeScrollBar:u,shards:h,noIsolation:y,inert:N,setCallbacks:l,allowPinchZoom:!!v,lockRef:t}),c?o.cloneElement(o.Children.only(i),ce(ce({},S),{ref:D})):o.createElement(R,ce({},S,{className:d,ref:D}),i))});De.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};De.classNames={fullWidth:$n,zeroRight:En};var We=!1;if(typeof window<"u")try{var Re=Object.defineProperty({},"passive",{get:function(){return We=!0,!0}});window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch{We=!1}var le=We?{passive:!1}:!1,Jr=function(e){return e.tagName==="TEXTAREA"},Ot=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!Jr(e)&&t[n]==="visible")},Qr=function(e){return Ot(e,"overflowY")},eo=function(e){return Ot(e,"overflowX")},xt=function(e,n){var t=n;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var a=Lt(e,t);if(a){var s=Ft(e,t),l=s[1],c=s[2];if(l>c)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},to=function(e){var n=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[n,t,a]},no=function(e){var n=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[n,t,a]},Lt=function(e,n){return e==="v"?Qr(n):eo(n)},Ft=function(e,n){return e==="v"?to(n):no(n)},ro=function(e,n){return e==="h"&&n==="rtl"?-1:1},oo=function(e,n,t,a,s){var l=ro(e,window.getComputedStyle(n).direction),c=l*a,i=t.target,d=n.contains(i),u=!1,f=c>0,h=0,E=0;do{var y=Ft(e,i),N=y[0],v=y[1],b=y[2],R=v-b-l*N;(N||R)&&Lt(e,i)&&(h+=R,E+=N),i=i.parentNode}while(!d&&i!==document.body||d&&(n.contains(i)||n===i));return(f&&(s&&h===0||!s&&c>h)||!f&&(s&&E===0||!s&&-c>E))&&(u=!0),u},Ae=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bt=function(e){return[e.deltaX,e.deltaY]},yt=function(e){return e&&"current"in e?e.current:e},ao=function(e,n){return e[0]===n[0]&&e[1]===n[1]},so=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lo=0,ie=[];function io(e){var n=o.useRef([]),t=o.useRef([0,0]),a=o.useRef(),s=o.useState(lo++)[0],l=o.useState(function(){return wn()})[0],c=o.useRef(e);o.useEffect(function(){c.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=jn([e.lockRef.current],(e.shards||[]).map(yt),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=o.useCallback(function(v,b){if("touches"in v&&v.touches.length===2)return!c.current.allowPinchZoom;var R=Ae(v),m=t.current,x="deltaX"in v?v.deltaX:m[0]-R[0],D="deltaY"in v?v.deltaY:m[1]-R[1],S,j=v.target,I=Math.abs(x)>Math.abs(D)?"h":"v";if("touches"in v&&I==="h"&&j.type==="range")return!1;var g=xt(I,j);if(!g)return!0;if(g?S=I:(S=I==="v"?"h":"v",g=xt(I,j)),!g)return!1;if(!a.current&&"changedTouches"in v&&(x||D)&&(a.current=S),!S)return!0;var A=a.current||S;return oo(A,b,v,A==="h"?x:D,!0)},[]),d=o.useCallback(function(v){var b=v;if(!(!ie.length||ie[ie.length-1]!==l)){var R="deltaY"in b?bt(b):Ae(b),m=n.current.filter(function(S){return S.name===b.type&&S.target===b.target&&ao(S.delta,R)})[0];if(m&&m.should){b.cancelable&&b.preventDefault();return}if(!m){var x=(c.current.shards||[]).map(yt).filter(Boolean).filter(function(S){return S.contains(b.target)}),D=x.length>0?i(b,x[0]):!c.current.noIsolation;D&&b.cancelable&&b.preventDefault()}}},[]),u=o.useCallback(function(v,b,R,m){var x={name:v,delta:b,target:R,should:m};n.current.push(x),setTimeout(function(){n.current=n.current.filter(function(D){return D!==x})},1)},[]),f=o.useCallback(function(v){t.current=Ae(v),a.current=void 0},[]),h=o.useCallback(function(v){u(v.type,bt(v),v.target,i(v,e.lockRef.current))},[]),E=o.useCallback(function(v){u(v.type,Ae(v),v.target,i(v,e.lockRef.current))},[]);o.useEffect(function(){return ie.push(l),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:E}),document.addEventListener("wheel",d,le),document.addEventListener("touchmove",d,le),document.addEventListener("touchstart",f,le),function(){ie=ie.filter(function(v){return v!==l}),document.removeEventListener("wheel",d,le),document.removeEventListener("touchmove",d,le),document.removeEventListener("touchstart",f,le)}},[]);var y=e.removeScrollBar,N=e.inert;return o.createElement(o.Fragment,null,N?o.createElement(l,{styles:so(s)}):null,y?o.createElement(Sn,{gapMode:"margin"}):null)}const co=Rn(kt,io);var Mt=o.forwardRef(function(e,n){return o.createElement(De,ce({},e,{ref:n,sideCar:co}))});Mt.classNames=De.classNames;const uo=Mt,_t="Dialog",[Bt,sa]=Er(_t),[fo,ae]=Bt(_t),ho=e=>{const{__scopeDialog:n,children:t,open:a,defaultOpen:s,onOpenChange:l,modal:c=!0}=e,i=o.useRef(null),d=o.useRef(null),[u=!1,f]=Rr({prop:a,defaultProp:s,onChange:l});return o.createElement(fo,{scope:n,triggerRef:i,contentRef:d,contentId:Oe(),titleId:Oe(),descriptionId:Oe(),open:u,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(h=>!h),[f]),modal:c},t)},Ut="DialogPortal",[mo,Ht]=Bt(Ut,{forceMount:void 0}),po=e=>{const{__scopeDialog:n,forceMount:t,children:a,container:s}=e,l=ae(Ut,n);return o.createElement(mo,{scope:n,forceMount:t},o.Children.map(a,c=>o.createElement(Pe,{present:t||l.open},o.createElement(Gr,{asChild:!0,container:s},c))))},Ye="DialogOverlay",go=o.forwardRef((e,n)=>{const t=Ht(Ye,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,l=ae(Ye,e.__scopeDialog);return l.modal?o.createElement(Pe,{present:a||l.open},o.createElement(vo,K({},s,{ref:n}))):null}),vo=o.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,s=ae(Ye,t);return o.createElement(uo,{as:Xe,allowPinchZoom:!0,shards:[s.contentRef]},o.createElement(Y.div,K({"data-state":zt(s.open)},a,{ref:n,style:{pointerEvents:"auto",...a.style}})))}),xe="DialogContent",xo=o.forwardRef((e,n)=>{const t=Ht(xe,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,l=ae(xe,e.__scopeDialog);return o.createElement(Pe,{present:a||l.open},l.modal?o.createElement(bo,K({},s,{ref:n})):o.createElement(yo,K({},s,{ref:n})))}),bo=o.forwardRef((e,n)=>{const t=ae(xe,e.__scopeDialog),a=o.useRef(null),s=ye(n,t.contentRef,a);return o.useEffect(()=>{const l=a.current;if(l)return wt(l)},[]),o.createElement(Kt,K({},e,{ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=t.triggerRef.current)===null||c===void 0||c.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,i=c.button===0&&c.ctrlKey===!0;(c.button===2||i)&&l.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,l=>l.preventDefault())}))}),yo=o.forwardRef((e,n)=>{const t=ae(xe,e.__scopeDialog),a=o.useRef(!1),s=o.useRef(!1);return o.createElement(Kt,K({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c;if((c=e.onCloseAutoFocus)===null||c===void 0||c.call(e,l),!l.defaultPrevented){var i;a.current||(i=t.triggerRef.current)===null||i===void 0||i.focus(),l.preventDefault()}a.current=!1,s.current=!1},onInteractOutside:l=>{var c,i;(c=e.onInteractOutside)===null||c===void 0||c.call(e,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const d=l.target;((i=t.triggerRef.current)===null||i===void 0?void 0:i.contains(d))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}}))}),Kt=o.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,...c}=e,i=ae(xe,t),d=o.useRef(null),u=ye(n,d);return Zr(),o.createElement(o.Fragment,null,o.createElement(Ur,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l},o.createElement(Mr,K({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":zt(i.open)},c,{ref:u,onDismiss:()=>i.onOpenChange(!1)}))),!1)});function zt(e){return e?"open":"closed"}const Co=ho,$o=po,Eo=go,wo=xo;var ge='[cmdk-group=""]',Be='[cmdk-group-items=""]',jo='[cmdk-group-heading=""]',qe='[cmdk-item=""]',Ct=`${qe}:not([aria-disabled="true"])`,Ge="cmdk-item-select",te="data-value",So=(e,n,t)=>Cr(e,n,t),Vt=o.createContext(void 0),Ce=()=>o.useContext(Vt),Wt=o.createContext(void 0),Ze=()=>o.useContext(Wt),Yt=o.createContext(void 0),Gt=o.forwardRef((e,n)=>{let t=de(()=>{var p,P;return{search:"",value:(P=(p=e.value)!=null?p:e.defaultValue)!=null?P:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=de(()=>new Set),s=de(()=>new Map),l=de(()=>new Map),c=de(()=>new Set),i=Xt(e),{label:d,children:u,value:f,onValueChange:h,filter:E,shouldFilter:y,loop:N,disablePointerSelection:v=!1,vimBindings:b=!0,...R}=e,m=o.useId(),x=o.useId(),D=o.useId(),S=o.useRef(null),j=Fo();re(()=>{if(f!==void 0){let p=f.trim();t.current.value=p,I.emit()}},[f]),re(()=>{j(6,_)},[]);let I=o.useMemo(()=>({subscribe:p=>(c.current.add(p),()=>c.current.delete(p)),snapshot:()=>t.current,setState:(p,P,T)=>{var w,O,F;if(!Object.is(t.current[p],P)){if(t.current[p]=P,p==="search")G(),k(),j(1,M);else if(p==="value"&&(T||j(5,_),((w=i.current)==null?void 0:w.value)!==void 0)){let W=P??"";(F=(O=i.current).onValueChange)==null||F.call(O,W);return}I.emit()}},emit:()=>{c.current.forEach(p=>p())}}),[]),g=o.useMemo(()=>({value:(p,P,T)=>{var w;P!==((w=l.current.get(p))==null?void 0:w.value)&&(l.current.set(p,{value:P,keywords:T}),t.current.filtered.items.set(p,A(P,T)),j(2,()=>{k(),I.emit()}))},item:(p,P)=>(a.current.add(p),P&&(s.current.has(P)?s.current.get(P).add(p):s.current.set(P,new Set([p]))),j(3,()=>{G(),k(),t.current.value||M(),I.emit()}),()=>{l.current.delete(p),a.current.delete(p),t.current.filtered.items.delete(p);let T=L();j(4,()=>{G(),(T==null?void 0:T.getAttribute("id"))===p&&M(),I.emit()})}),group:p=>(s.current.has(p)||s.current.set(p,new Set),()=>{l.current.delete(p),s.current.delete(p)}),filter:()=>i.current.shouldFilter,label:d||e["aria-label"],disablePointerSelection:v,listId:m,inputId:D,labelId:x,listInnerRef:S}),[]);function A(p,P){var T,w;let O=(w=(T=i.current)==null?void 0:T.filter)!=null?w:So;return p?O(p,t.current.search,P):0}function k(){if(!t.current.search||i.current.shouldFilter===!1)return;let p=t.current.filtered.items,P=[];t.current.filtered.groups.forEach(w=>{let O=s.current.get(w),F=0;O.forEach(W=>{let ee=p.get(W);F=Math.max(ee,F)}),P.push([w,F])});let T=S.current;z().sort((w,O)=>{var F,W;let ee=w.getAttribute("id"),Ee=O.getAttribute("id");return((F=p.get(Ee))!=null?F:0)-((W=p.get(ee))!=null?W:0)}).forEach(w=>{let O=w.closest(Be);O?O.appendChild(w.parentElement===O?w:w.closest(`${Be} > *`)):T.appendChild(w.parentElement===T?w:w.closest(`${Be} > *`))}),P.sort((w,O)=>O[1]-w[1]).forEach(w=>{let O=S.current.querySelector(`${ge}[${te}="${encodeURIComponent(w[0])}"]`);O==null||O.parentElement.appendChild(O)})}function M(){let p=z().find(T=>T.getAttribute("aria-disabled")!=="true"),P=p==null?void 0:p.getAttribute(te);I.setState("value",P||void 0)}function G(){var p,P,T,w;if(!t.current.search||i.current.shouldFilter===!1){t.current.filtered.count=a.current.size;return}t.current.filtered.groups=new Set;let O=0;for(let F of a.current){let W=(P=(p=l.current.get(F))==null?void 0:p.value)!=null?P:"",ee=(w=(T=l.current.get(F))==null?void 0:T.keywords)!=null?w:[],Ee=A(W,ee);t.current.filtered.items.set(F,Ee),Ee>0&&O++}for(let[F,W]of s.current)for(let ee of W)if(t.current.filtered.items.get(ee)>0){t.current.filtered.groups.add(F);break}t.current.filtered.count=O}function _(){var p,P,T;let w=L();w&&(((p=w.parentElement)==null?void 0:p.firstChild)===w&&((T=(P=w.closest(ge))==null?void 0:P.querySelector(jo))==null||T.scrollIntoView({block:"nearest"})),w.scrollIntoView({block:"nearest"}))}function L(){var p;return(p=S.current)==null?void 0:p.querySelector(`${qe}[aria-selected="true"]`)}function z(){var p;return Array.from((p=S.current)==null?void 0:p.querySelectorAll(Ct))}function X(p){let P=z()[p];P&&I.setState("value",P.getAttribute(te))}function se(p){var P;let T=L(),w=z(),O=w.findIndex(W=>W===T),F=w[O+p];(P=i.current)!=null&&P.loop&&(F=O+p<0?w[w.length-1]:O+p===w.length?w[0]:w[O+p]),F&&I.setState("value",F.getAttribute(te))}function he(p){let P=L(),T=P==null?void 0:P.closest(ge),w;for(;T&&!w;)T=p>0?Oo(T,ge):Lo(T,ge),w=T==null?void 0:T.querySelector(Ct);w?I.setState("value",w.getAttribute(te)):se(p)}let H=()=>X(z().length-1),V=p=>{p.preventDefault(),p.metaKey?H():p.altKey?he(1):se(1)},me=p=>{p.preventDefault(),p.metaKey?X(0):p.altKey?he(-1):se(-1)};return o.createElement(Y.div,{ref:n,tabIndex:-1,...R,"cmdk-root":"",onKeyDown:p=>{var P;if((P=R.onKeyDown)==null||P.call(R,p),!p.defaultPrevented)switch(p.key){case"n":case"j":{b&&p.ctrlKey&&V(p);break}case"ArrowDown":{V(p);break}case"p":case"k":{b&&p.ctrlKey&&me(p);break}case"ArrowUp":{me(p);break}case"Home":{p.preventDefault(),X(0);break}case"End":{p.preventDefault(),H();break}case"Enter":if(!p.nativeEvent.isComposing&&p.keyCode!==229){p.preventDefault();let T=L();if(T){let w=new Event(Ge);T.dispatchEvent(w)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:g.inputId,id:g.labelId,style:_o},d),Ne(e,p=>o.createElement(Wt.Provider,{value:I},o.createElement(Vt.Provider,{value:g},p))))}),Ro=o.forwardRef((e,n)=>{var t,a;let s=o.useId(),l=o.useRef(null),c=o.useContext(Yt),i=Ce(),d=Xt(e),u=(a=(t=d.current)==null?void 0:t.forceMount)!=null?a:c==null?void 0:c.forceMount;re(()=>{if(!u)return i.item(s,c==null?void 0:c.id)},[u]);let f=qt(s,l,[e.value,e.children,l],e.keywords),h=Ze(),E=oe(j=>j.value&&j.value===f.current),y=oe(j=>u||i.filter()===!1?!0:j.search?j.filtered.items.get(s)>0:!0);o.useEffect(()=>{let j=l.current;if(!(!j||e.disabled))return j.addEventListener(Ge,N),()=>j.removeEventListener(Ge,N)},[y,e.onSelect,e.disabled]);function N(){var j,I;v(),(I=(j=d.current).onSelect)==null||I.call(j,f.current)}function v(){h.setState("value",f.current,!0)}if(!y)return null;let{disabled:b,value:R,onSelect:m,forceMount:x,keywords:D,...S}=e;return o.createElement(Y.div,{ref:be([l,n]),...S,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!E,"data-disabled":!!b,"data-selected":!!E,onPointerMove:b||i.disablePointerSelection?void 0:v,onClick:b?void 0:N},e.children)}),Ao=o.forwardRef((e,n)=>{let{heading:t,children:a,forceMount:s,...l}=e,c=o.useId(),i=o.useRef(null),d=o.useRef(null),u=o.useId(),f=Ce(),h=oe(y=>s||f.filter()===!1?!0:y.search?y.filtered.groups.has(c):!0);re(()=>f.group(c),[]),qt(c,i,[e.value,e.heading,d]);let E=o.useMemo(()=>({id:c,forceMount:s}),[s]);return o.createElement(Y.div,{ref:be([i,n]),...l,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},t&&o.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},t),Ne(e,y=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?u:void 0},o.createElement(Yt.Provider,{value:E},y))))}),Po=o.forwardRef((e,n)=>{let{alwaysRender:t,...a}=e,s=o.useRef(null),l=oe(c=>!c.search);return!t&&!l?null:o.createElement(Y.div,{ref:be([s,n]),...a,"cmdk-separator":"",role:"separator"})}),Do=o.forwardRef((e,n)=>{let{onValueChange:t,...a}=e,s=e.value!=null,l=Ze(),c=oe(f=>f.search),i=oe(f=>f.value),d=Ce(),u=o.useMemo(()=>{var f;let h=(f=d.listInnerRef.current)==null?void 0:f.querySelector(`${qe}[${te}="${encodeURIComponent(i)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return o.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),o.createElement(Y.input,{ref:n,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:s?e.value:c,onChange:f=>{s||l.setState("search",f.target.value),t==null||t(f.target.value)}})}),No=o.forwardRef((e,n)=>{let{children:t,label:a="Suggestions",...s}=e,l=o.useRef(null),c=o.useRef(null),i=Ce();return o.useEffect(()=>{if(c.current&&l.current){let d=c.current,u=l.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let E=d.offsetHeight;u.style.setProperty("--cmdk-list-height",E.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(f),h.unobserve(d)}}},[]),o.createElement(Y.div,{ref:be([l,n]),...s,"cmdk-list":"",role:"listbox","aria-label":a,id:i.listId},Ne(e,d=>o.createElement("div",{ref:be([c,i.listInnerRef]),"cmdk-list-sizer":""},d)))}),To=o.forwardRef((e,n)=>{let{open:t,onOpenChange:a,overlayClassName:s,contentClassName:l,container:c,...i}=e;return o.createElement(Co,{open:t,onOpenChange:a},o.createElement($o,{container:c},o.createElement(Eo,{"cmdk-overlay":"",className:s}),o.createElement(wo,{"aria-label":e.label,"cmdk-dialog":"",className:l},o.createElement(Gt,{ref:n,...i}))))}),Io=o.forwardRef((e,n)=>oe(t=>t.filtered.count===0)?o.createElement(Y.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),ko=o.forwardRef((e,n)=>{let{progress:t,children:a,label:s="Loading...",...l}=e;return o.createElement(Y.div,{ref:n,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Ne(e,c=>o.createElement("div",{"aria-hidden":!0},c)))}),U=Object.assign(Gt,{List:No,Item:Ro,Input:Do,Group:Ao,Separator:Po,Dialog:To,Empty:Io,Loading:ko});function Oo(e,n){let t=e.nextElementSibling;for(;t;){if(t.matches(n))return t;t=t.nextElementSibling}}function Lo(e,n){let t=e.previousElementSibling;for(;t;){if(t.matches(n))return t;t=t.previousElementSibling}}function Xt(e){let n=o.useRef(e);return re(()=>{n.current=e}),n}var re=typeof window>"u"?o.useEffect:o.useLayoutEffect;function de(e){let n=o.useRef();return n.current===void 0&&(n.current=e()),n}function be(e){return n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}function oe(e){let n=Ze(),t=()=>e(n.snapshot());return o.useSyncExternalStore(n.subscribe,t,t)}function qt(e,n,t,a=[]){let s=o.useRef(),l=Ce();return re(()=>{var c;let i=(()=>{var u;for(let f of t){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():s.current}})(),d=a.map(u=>u.trim());l.value(e,i,d),(c=n.current)==null||c.setAttribute(te,i),s.current=i}),s}var Fo=()=>{let[e,n]=o.useState(),t=de(()=>new Map);return re(()=>{t.current.forEach(a=>a()),t.current=new Map},[e]),(a,s)=>{t.current.set(a,s),n({})}};function Mo(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function Ne({asChild:e,children:n},t){return e&&o.isValidElement(n)?o.cloneElement(Mo(n),{ref:n.ref},t(n.props.children)):t(n)}var _o={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Zt=o.forwardRef(({className:e,...n},t)=>r.jsx(U,{ref:t,className:J("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));Zt.displayName=U.displayName;const Jt=o.forwardRef(({className:e,...n},t)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(An,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(U.Input,{ref:t,className:J("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));Jt.displayName=U.Input.displayName;const Qt=o.forwardRef(({className:e,...n},t)=>r.jsx(U.List,{ref:t,className:J("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));Qt.displayName=U.List.displayName;const en=o.forwardRef((e,n)=>r.jsx(U.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));en.displayName=U.Empty.displayName;const tn=o.forwardRef(({className:e,...n},t)=>r.jsx(U.Group,{ref:t,className:J("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));tn.displayName=U.Group.displayName;const Bo=o.forwardRef(({className:e,...n},t)=>r.jsx(U.Separator,{ref:t,className:J("-mx-1 h-px bg-border",e),...n}));Bo.displayName=U.Separator.displayName;const nn=o.forwardRef(({className:e,...n},t)=>r.jsx(U.Item,{ref:t,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...n}));nn.displayName=U.Item.displayName;var Je="Popover",[rn,la]=Pn(Je,[jt]),$e=jt(),[Uo,Q]=rn(Je),on=e=>{const{__scopePopover:n,children:t,open:a,defaultOpen:s,onOpenChange:l,modal:c=!1}=e,i=$e(n),d=o.useRef(null),[u,f]=o.useState(!1),[h=!1,E]=Mn({prop:a,defaultProp:s,onChange:l});return r.jsx(_n,{...i,children:r.jsx(Uo,{scope:n,contentId:Bn(),triggerRef:d,open:h,onOpenChange:E,onOpenToggle:o.useCallback(()=>E(y=>!y),[E]),hasCustomAnchor:u,onCustomAnchorAdd:o.useCallback(()=>f(!0),[]),onCustomAnchorRemove:o.useCallback(()=>f(!1),[]),modal:c,children:t})})};on.displayName=Je;var an="PopoverAnchor",Ho=o.forwardRef((e,n)=>{const{__scopePopover:t,...a}=e,s=Q(an,t),l=$e(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:i}=s;return o.useEffect(()=>(c(),()=>i()),[c,i]),r.jsx(St,{...l,...a,ref:n})});Ho.displayName=an;var sn="PopoverTrigger",ln=o.forwardRef((e,n)=>{const{__scopePopover:t,...a}=e,s=Q(sn,t),l=$e(t),c=Rt(n,s.triggerRef),i=r.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hn(s.open),...a,ref:c,onClick:ve(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?i:r.jsx(St,{asChild:!0,...l,children:i})});ln.displayName=sn;var Qe="PopoverPortal",[Ko,zo]=rn(Qe,{forceMount:void 0}),cn=e=>{const{__scopePopover:n,forceMount:t,children:a,container:s}=e,l=Q(Qe,n);return r.jsx(Ko,{scope:n,forceMount:t,children:r.jsx(Pt,{present:t||l.open,children:r.jsx(Fn,{asChild:!0,container:s,children:a})})})};cn.displayName=Qe;var fe="PopoverContent",dn=o.forwardRef((e,n)=>{const t=zo(fe,e.__scopePopover),{forceMount:a=t.forceMount,...s}=e,l=Q(fe,e.__scopePopover);return r.jsx(Pt,{present:a||l.open,children:l.modal?r.jsx(Vo,{...s,ref:n}):r.jsx(Wo,{...s,ref:n})})});dn.displayName=fe;var Vo=o.forwardRef((e,n)=>{const t=Q(fe,e.__scopePopover),a=o.useRef(null),s=Rt(n,a),l=o.useRef(!1);return o.useEffect(()=>{const c=a.current;if(c)return wt(c)},[]),r.jsx(Dn,{as:Nn,allowPinchZoom:!0,children:r.jsx(un,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,c=>{var i;c.preventDefault(),l.current||(i=t.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,d=i.button===0&&i.ctrlKey===!0,u=i.button===2||d;l.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ve(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Wo=o.forwardRef((e,n)=>{const t=Q(fe,e.__scopePopover),a=o.useRef(!1),s=o.useRef(!1);return r.jsx(un,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,i;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(a.current||(i=t.triggerRef.current)==null||i.focus(),l.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:l=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=l.target;((u=t.triggerRef.current)==null?void 0:u.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),un=o.forwardRef((e,n)=>{const{__scopePopover:t,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,...h}=e,E=Q(fe,t),y=$e(t);return Tn(),r.jsx(In,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l,children:r.jsx(kn,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:f,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>E.onOpenChange(!1),children:r.jsx(On,{"data-state":hn(E.open),role:"dialog",id:E.contentId,...y,...h,ref:n,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),fn="PopoverClose",Yo=o.forwardRef((e,n)=>{const{__scopePopover:t,...a}=e,s=Q(fn,t);return r.jsx(At.button,{type:"button",...a,ref:n,onClick:ve(e.onClick,()=>s.onOpenChange(!1))})});Yo.displayName=fn;var Go="PopoverArrow",Xo=o.forwardRef((e,n)=>{const{__scopePopover:t,...a}=e,s=$e(t);return r.jsx(Ln,{...s,...a,ref:n})});Xo.displayName=Go;function hn(e){return e?"open":"closed"}var qo=on,Zo=ln,Jo=cn,mn=dn;const Qo=qo,ea=Zo,pn=o.forwardRef(({className:e,align:n="center",sideOffset:t=4,...a},s)=>r.jsx(Jo,{children:r.jsx(mn,{ref:s,align:n,sideOffset:t,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));pn.displayName=mn.displayName;function ta({users:e}){var l;const[n,t]=o.useState(!1),[a,s]=o.useState("");return r.jsxs("div",{className:" flex flex-col gap-2 w-full",children:[r.jsx("p",{className:"  text-foreground",children:"Select employee's name"}),r.jsxs(Qo,{open:n,onOpenChange:t,children:[r.jsx(ea,{asChild:!0,children:r.jsxs(Z,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between  text-foreground",children:[a?(l=e.find(c=>c.full_name===a))==null?void 0:l.full_name:"Select employee...",r.jsx(Un,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(pn,{className:" w-[300px] p-0 ",children:r.jsxs(Zt,{children:[r.jsx(Jt,{placeholder:"Search employee...",className:"h-9 w-full"}),r.jsxs(Qt,{children:[r.jsx(en,{children:"No Employee found"}),r.jsx(tn,{children:e.map(c=>r.jsxs(nn,{value:c.full_name,onSelect:i=>{s(i===a?"":i),localStorage.setItem("selectedID",c.uid),localStorage.setItem("selectedName",c.full_name),t(!1)},children:[c.full_name,r.jsx(Hn,{className:J("ml-auto h-4 w-4",a===c.full_name?"opacity-100":"opacity-0")})]},c.uid))})]})]})})]})]})}Kn.register({family:"Roboto",fonts:[{src:"https://edtr10.github.io/regional/calibri-font-family/calibri-regular.ttf"},{src:"https://edtr10.github.io/regional/calibri-font-family/calibri-italic.ttf",fontStyle:"italic"},{src:"https://edtr10.github.io/regional/calibri-font-family/calibri-bold.ttf",fontStyle:"bold"}]});const $t=({name:e,date:n,data:t,selectedYear:a,selectedMonth:s,previewUrl:l,selectedSchedule:c})=>{var b,R;const i=m=>new Date(m).getUTCDate();let d={};(b=t.results)==null||b.forEach(m=>{const x=i(m.CHECKTIME);d[x]||(d[x]={I:[],O:[],i:[],o:[]});const D=Ue(m.CHECKTIME).localeTime12HourFormat;m.CHECKTYPE==="I"?d[x].I.push(D.replace(/ AM| PM/,"")):m.CHECKTYPE==="o"?d[x].O.push(D.replace(/ AM| PM/,"")):m.CHECKTYPE==="0"?d[x].i.push(D.replace(/ AM| PM/,"")||"12:00"):m.CHECKTYPE==="i"&&d[x].o.push(D.replace(/ AM| PM/,""))});const u={};(R=t.activities)==null||R.forEach(m=>{const x=new Date(m.fromDate),D=new Date(m.toDate);for(let S=new Date(x);S<=D;S.setDate(S.getDate()+1)){const j=S.getDate();u[j]||(u[j]=[]),u[j].push({activity_id:m.activity_id,description:`${zn(m.status)} - ${m.description}`,status:m.status,period:m.period})}});const f=m=>{switch(m.length){case 4:return m[0];case 3:return m[0];case 2:return m[1];case 1:return m[0];default:return""}},h=m=>{switch(m.length){case 4:return m[0];case 3:return m[0];case 2:return m[0];case 1:return m[0];default:return""}},E=(m,x)=>{switch(m.length){case 3:return x.length!=0&&m.length!=2?"12:00":m[0];case 2:return x.length!=0&&m.length!=2?"12:00":m[0];case 1:return x.length!=0&&m.length!=1?"12:00":m[0];default:return x.length!=0?"12:00":""}},y=(m,x)=>{switch(m.length){case 3:return x.length!=0&&x.length!=3?"01:00":m[0];case 2:return x.length!=0&&x.length!=2?"01:00":m[0];case 1:return x.length!=0&&x.length!=1?"01:00":m[0];default:return x.length!=0?"01:00":""}},N=m=>{const x={5:{timeIn:420,timeOut:960},6:{timeIn:450,timeOut:990},7:{timeIn:480,timeOut:1020},8:{timeIn:510,timeOut:1050},9:{timeIn:540,timeOut:1080},10:{timeIn:570,timeOut:1110},11:{timeIn:600,timeOut:1140}};return x[m]||x[7]},v=(m,x)=>{const S=N(c||"7"),j=S.timeIn,I=S.timeOut,[g,A]=m?m.split(":").map(Number):"12:00".split(":").map(Number),[k,M]=x.split(":").map(Number),G=g*60+A,_=k*60+M;let L=0;G>j&&(L+=G-j),_<I&&(L+=I-_);const z=m||x?Math.floor(L/60):8,X=L%60;return{hours:z,minutes:X}};return r.jsx(Vn,{title:`${e?e.toUpperCase():""}_DTR_${n}.pdf`,children:r.jsx(Wn,{size:"A4",style:{fontFamily:"Roboto",flexDirection:"row",backgroundColor:"#ffffff",fontSize:8,padding:30},children:[1,2].map((m,x)=>r.jsxs(C,{style:{width:"50%",paddingHorizontal:8},children:[r.jsx($,{style:{fontSize:6,marginBottom:5,fontStyle:"italic"},children:"  Civil Service Form No. 48"}),r.jsx(et,{src:Yn,style:{height:60,objectFit:"contain",alignSelf:"center",marginBottom:10}}),r.jsx($,{style:{fontSize:10,fontStyle:"bold",textAlign:"center",marginBottom:3},children:"DAILY TIME RECORD"}),r.jsx($,{style:{fontSize:10,textAlign:"center",marginBottom:10}}),r.jsx($,{style:{fontSize:9,textAlign:"center",textTransform:"uppercase",borderBottom:.5,marginBottom:1,fontStyle:"bold"},children:e?e.toUpperCase():"JOHN C. DOE"}),r.jsx($,{style:{fontSize:8,textAlign:"center"},children:"( Name )"}),r.jsxs(C,{style:{flexDirection:"row",marginTop:10,marginBottom:5},children:[r.jsxs(C,{style:{width:"50%",textAlign:"left"},children:[r.jsx($,{children:"For the month of"}),r.jsx($,{children:"Official hours for arrival"}),r.jsx($,{children:"and departure"})]}),r.jsxs(C,{style:{width:"50%"},children:[r.jsx($,{style:{borderBottom:.5,marginBottom:1,fontStyle:"bold",textAlign:"center"},children:n}),r.jsxs(C,{style:{flexDirection:"row"},children:[r.jsx($,{children:"Regular days"}),r.jsx(C,{style:{borderBottom:.5,marginBottom:1,marginLeft:22,width:"100%"}})]}),r.jsxs(C,{style:{flexDirection:"row"},children:[r.jsx($,{children:"Saturdays"}),r.jsx(C,{style:{borderBottom:.5,marginBottom:1,marginLeft:20,width:"100%"}})]})]})]}),r.jsxs(C,{style:{border:.5,marginVertical:10},children:[r.jsxs(C,{style:{flexDirection:"row",borderBottom:.5,alignItems:"center",height:12,fontSize:7},children:[r.jsx(C,{style:{width:"8%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{children:"Day"})}),r.jsx(C,{style:{width:"34.5%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{children:"AM"})}),r.jsx(C,{style:{width:"34.5%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{children:"PM"})}),r.jsx(C,{style:{width:"23%",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{children:"Undertime"})})]},x),r.jsxs(C,{style:{flexDirection:"row",borderBottom:.5,alignItems:"center",height:12,fontSize:7},children:[r.jsx(C,{style:{width:"8%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{})}),r.jsx(C,{style:{width:"17.25%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{children:"Arrival"})}),r.jsx(C,{style:{width:"17.25%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{children:"Departure"})}),r.jsx(C,{style:{width:"17.25%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{children:"Arrival"})}),r.jsx(C,{style:{width:"17.25%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{children:"Departure"})}),r.jsx(C,{style:{width:"10%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{children:"Hours"})}),r.jsx(C,{style:{width:"13%",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{children:"Minutes"})})]},x),Array.from({length:31},(D,S)=>{var z,X,se,he;const j=S+1,I=new Date(a,s-1,j).getDay(),g=I===0?"Sunday":I===6?"Saturday":"",A=((z=d[j])==null?void 0:z.I)||"",k=((X=d[j])==null?void 0:X.O)||"",M=((se=d[j])==null?void 0:se.i)||"",G=((he=d[j])==null?void 0:he.o)||"",_=u[j]||[],L=H=>{if(!H||typeof H!="string")return"";const[V,me]=H.split(":").map(Number);return isNaN(V)||isNaN(me)?"":`${(V>=1&&V<=11?V+12:V).toString().padStart(2,"0")}:${me.toString().padStart(2,"0")}`};return g||_.length>0?r.jsxs(C,{style:{flexDirection:"row",borderBottom:.5,alignItems:"center",height:12,fontSize:7,textAlign:"center"},children:[r.jsx(C,{style:{width:"8%",borderRight:.5,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:r.jsxs($,{style:{textAlign:"center",marginTop:2},children:[j," "]})}),(_==null?void 0:_.length)>0?_==null?void 0:_.map((H,V)=>{if(H.period===1)return r.jsxs(r.Fragment,{children:[r.jsx(C,{style:{width:"69%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:`${H.description}`})},V),r.jsx(C,{style:{width:"10%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2}})}),r.jsx(C,{style:{width:"10%",paddingLeft:2,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2}})})]});if(H.period===2)return r.jsxs(r.Fragment,{children:[r.jsx(C,{style:{width:"34.5%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:`${H.description}`})},V),r.jsx(C,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:y(G,k)})}),r.jsx(C,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:h(k)})}),r.jsx(C,{style:{width:"10%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:v("12:00",L(h(k))).hours})}),r.jsx(C,{style:{width:"10%",paddingLeft:2,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:v("12:00",L(h(k))).minutes})})]});if(H.period===3)return r.jsxs(r.Fragment,{children:[r.jsx(C,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:f(A)})}),r.jsx(C,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:E(M,A)})}),r.jsx(C,{style:{width:"34.5%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:`${H.description}`})},V),r.jsx(C,{style:{width:"10%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:v(f(A),L(h(k))).hours})}),r.jsx(C,{style:{width:"10%",paddingLeft:2,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:v(f(A),L(h(k))).minutes})})]})}):g?r.jsxs(r.Fragment,{children:[r.jsx(C,{style:{width:"69%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center",backgroundColor:"#c7e8f0"},children:r.jsxs($,{style:{textAlign:"center",marginTop:2},children:[g||_||`${g}`," ",A?`-${f(A)}`:"","   ",k?`| ${h(k)}`:""," "]})}),r.jsx(C,{style:{width:"10%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2}})}),r.jsx(C,{style:{width:"10%",paddingLeft:2,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2}})})]}):""]},S):r.jsxs(C,{style:{flexDirection:"row",borderBottom:.5,alignItems:"center",height:12,fontSize:7,textAlign:"center"},children:[r.jsx(C,{style:{width:"8%",borderRight:.5,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:r.jsxs($,{style:{textAlign:"center",marginTop:2},children:[j," ",g&&`(${g})`]})}),r.jsx(C,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:f(A)})}),r.jsx(C,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:E(M,A)})}),r.jsx(C,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:y(G,k)})}),r.jsx(C,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:h(k)})}),r.jsx(C,{style:{width:"10%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:v(f(A),L(h(k))).hours})}),r.jsx(C,{style:{width:"10%",paddingLeft:2,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:v(f(A),L(h(k))).minutes})})]},S)}),r.jsxs(C,{style:{flexDirection:"row",borderBottom:"none",alignItems:"center",height:12},children:[r.jsx(C,{style:{width:"77%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:r.jsx($,{style:{textAlign:"center",marginTop:2},children:"Total"})}),r.jsx(C,{style:{width:"10%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"}}),r.jsx(C,{style:{width:"13%",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"}})]})]}),r.jsx($,{style:{fontSize:7,marginTop:5,textAlign:"justify",fontStyle:"italic",fontWeight:100},children:"I certify on my honor that the above is a true and correct report of the hours of work performed, record of which was made daily at the time of arrival and departure from office."}),r.jsxs(C,{style:{fontSize:8,textAlign:"center",marginTop:20},children:[l&&r.jsx(et,{src:l,style:{width:"80px",position:"absolute",alignSelf:"center",objectFit:"contain",transform:"translateY(-30px)",zIndex:100}}),r.jsx($,{style:{borderBottom:.5,paddingTop:2,fontStyle:"bold"},children:e?e.toUpperCase():""})]}),r.jsx($,{style:{fontSize:7,marginTop:10,textAlign:"justify"},children:"VERIFIED as to the prescribed office hours."}),r.jsxs(C,{style:{fontSize:8,textAlign:"center",marginTop:30},children:[r.jsx($,{style:{borderBottom:.5,paddingTop:2,fontStyle:"bold"}}),r.jsx($,{style:{fontSize:7,fontStyle:"italic",marginTop:2},children:"Name and Signature of Immediate Supervisor"})]})]},x))})})};function na({name:e="",data:n,date:t,show:a,selectedYear:s,selectedMonth:l}){const[c,i]=o.useState(null),[d,u]=o.useState(null),f=o.useRef(null),[h,E]=o.useState(()=>localStorage.getItem("selectedSchedule")||"7");o.useEffect(()=>{localStorage.setItem("selectedSchedule",h)},[h]);const y=b=>{var m;const R=(m=b.target.files)==null?void 0:m[0];R&&(i(R),u(URL.createObjectURL(R)))},N=()=>{var b;(b=f.current)==null||b.click()},v=async()=>{const b=r.jsx($t,{name:(e==null?void 0:e.toUpperCase())||"",previewUrl:d,date:t,data:n,selectedSchedule:h,selectedYear:s,selectedMonth:l}),R=ar();R.updateContainer(b);const m=await R.toBlob(),D=await(await sr.load(await m.arrayBuffer())).save(),S=new Blob([D],{type:"application/pdf"}),j=document.createElement("a");j.href=URL.createObjectURL(S),j.download=`${e.toUpperCase()}_DTR_${t}.pdf`,j.click(),URL.revokeObjectURL(j.href)};return r.jsxs(Gn,{children:[r.jsx(Xn,{className:a?"  z-20 w-full flex gap-2 ":" flex gap-2 text-foreground z-20 w-full pointer-events-none  ",children:r.jsxs(Z,{type:"button",variant:a?"default":"outline",className:a?"  z-20 w-full flex gap-2 ":" flex gap-2 text-foreground z-20 w-full pointer-events-none ",children:["Show PDF ",r.jsx(qn,{className:a?" w-4 h-4 animate-bounce":" w-4 h-4 "})," "]})}),r.jsx(Zn,{title:"DTR",description:"Optional Description",children:r.jsx("div",{className:"h-[70vh] sm:h-[30vh]   w-full overflow-y-scroll sm:overflow-hidden  bg-white ",children:Jn?r.jsxs("div",{className:" flex w-full items-center justify-center h-20 gap-5",children:[r.jsxs(tt,{value:h,onValueChange:b=>{E(b)},children:[r.jsx("p",{children:"Schedule:"}),r.jsx(nt,{className:"w-[100px]",children:r.jsx(rt,{})}),r.jsxs(ot,{children:[r.jsx(B,{value:"5",children:"7:00-4:00"}),r.jsx(B,{value:"6",children:"7:30-4:30"}),r.jsx(B,{value:"7",children:"8:00-5:00"}),r.jsx(B,{value:"8",children:"8:30-5:30"}),r.jsx(B,{value:"9",children:"9:00-6:00"}),r.jsx(B,{value:"10",children:"9:30-6:30"}),r.jsx(B,{value:"11",children:"10:00-7:00"})]})]}),r.jsxs(Z,{onClick:v,value:"",children:["Save DTR  ",r.jsx(at,{className:" h-4 w-4 ml-2 animate-bounce"})," "]})]}):r.jsxs(o.Suspense,{fallback:r.jsx("div",{}),children:[r.jsxs("div",{className:" flex w-full items-center justify-center h-20 gap-5",children:[r.jsxs(tt,{value:h,onValueChange:b=>{E(b)},children:[r.jsx("p",{children:"Schedule:"}),r.jsx(nt,{className:"w-[100px]",children:r.jsx(rt,{})}),r.jsxs(ot,{children:[r.jsx(B,{value:"5",children:"7:00-4:00"}),r.jsx(B,{value:"6",children:"7:30-4:30"}),r.jsx(B,{value:"7",children:"8:00-5:00"}),r.jsx(B,{value:"8",children:"8:30-5:30"}),r.jsx(B,{value:"9",children:"9:00-6:00"}),r.jsx(B,{value:"10",children:"9:30-6:30"}),r.jsx(B,{value:"11",children:"10:00-7:00"})]})]}),r.jsxs(Z,{onClick:v,value:"",children:["Save DTR  ",r.jsx(at,{className:" h-4 w-4 ml-2 animate-bounce"})," "]}),r.jsx("input",{type:"file",accept:"image/*",onChange:y,ref:f,className:"hidden"}),r.jsx(Qn,{children:r.jsxs(er,{children:[r.jsx(tr,{asChild:!0,children:r.jsxs(Z,{onClick:N,variant:"outline",children:["Add Signature ",r.jsx(nr,{className:" h-4 w-4 ml-2"})," "]})}),r.jsx(rr,{children:r.jsx("p",{children:"image size 789x579"})})]})})]}),r.jsx(or,{className:"w-full h-full",children:r.jsx($t,{name:(e==null?void 0:e.toUpperCase())||"",previewUrl:d,selectedSchedule:h,date:t,data:n,selectedYear:s,selectedMonth:l})})]})})})]})}function ra(){var I;const[e,n]=o.useState({userId:null,fromDate:"",toDate:""}),t=g=>{const A=new Date(g),k=A.getMonth()+1,M=A.getFullYear();return{month:k,year:M}},[a,s]=o.useState(!1),[l,c]=o.useState(!1),[i,d]=o.useState([]),[u,f]=o.useState([]),[h,E]=o.useState([]);function y(){je.get("checkinoutregion/all",{headers:{Authorization:`Token ${localStorage.getItem("accessToken")}`}}).then(g=>{d(g.data)})}function N(){c(!0),je.post("checkinoutregion/filter_by_user_date/",{userId:localStorage.getItem("selectedID"),fromDate:e.fromDate,toDate:e.toDate},{headers:{Authorization:`Token ${localStorage.getItem("accessToken")}`}}).then(g=>{d(g.data),f(g.data),c(!1),s(!0),st.fire({icon:"success",title:"Table updated",showConfirmButton:!1,timer:2e3})})}function v(g){je.get(`${g}`,{headers:{Authorization:`Token ${localStorage.getItem("accessToken")}`}}).then(A=>{d(A.data)})}function b(){c(!0),je.get("users/all-users/",{headers:{Authorization:`Token ${localStorage.getItem("accessToken")}`}}).then(g=>{E(g.data),setTimeout(()=>{c(!1)},500)})}o.useEffect(()=>{let g=!0;return g&&(localStorage.setItem("selectedName",""),y(),b()),()=>{g=!1}},[]);function R(g){const A="https://edtr.pythonanywhere.com/api/v1/";return g.startsWith(A)?g.replace(A,""):g}const[m,x]=o.useState({key:"CHECKTIME",direction:"descingding"}),D=(I=i==null?void 0:i.results)==null?void 0:I.sort((g,A)=>g[m.key]<A[m.key]?m.direction==="ascending"?-1:1:g[m.key]>A[m.key]?m.direction==="ascending"?1:-1:0),S=g=>{let A="ascending";m.key===g&&m.direction==="ascending"&&(A="descending"),x({key:g,direction:A})};function j(g,A){const k=new Date(g),M=new Date(A),G=k.getDate(),_=M.getDate(),L=k.toLocaleString("en-US",{month:"long"}),z=k.getFullYear();return`${L} ${G}-${_}, ${z}`}return r.jsxs("div",{id:"printss",className:"  relative flex flex-col gap-4  mt-20 w-xl p-2 m-4 border border-border bg-primary-foreground rounded-md min-h-[130px]",children:[r.jsxs("div",{className:"flex p-4 justify-between items-center bg-primary mb-2",children:[r.jsx("p",{className:"text-white ",children:"LIST OF ATTENDANCE"}),r.jsx(fr,{className:"text-6xl text-white"})]}),r.jsxs("form",{onSubmit:g=>{g.preventDefault(),localStorage.getItem("selectedName")?N():st.fire({icon:"error",title:"Oops...",text:"Employee's name is blank...",showConfirmButton:!1})},className:" flex sm:flex-col items-end gap-2",children:[r.jsx(ta,{users:h,inputData:e.userId,setInputData:n}),r.jsxs("div",{className:" flex  sm:flex gap-2 w-full",children:[r.jsx(lt,{label:"From:",value:e.fromDate,onChange:g=>{n({...e,fromDate:g.target.value})},className:" text-foreground flex justify-between",type:"date"}),r.jsx(lt,{className:" text-foreground ",value:e.toDate,onChange:g=>{n({...e,toDate:g.target.value})},label:"To:",type:"date"})]}),r.jsxs(Z,{className:l?" sm:w-full pointer-events-none":" sm:w-full",children:["Filter",l?r.jsx(lr,{className:" ml-2 w-4 h-4 animate-spin"}):""]}),r.jsx("div",{className:a?" sm:w-full w-[400px]":" sm:w-full w-[400px]  cursor-not-allowed ",children:r.jsx(na,{name:localStorage.getItem("selectedName"),data:u,selectedYear:t(e.fromDate).year,selectedMonth:t(e.fromDate).month,show:a,date:j(e.fromDate,e.toDate)})})]}),r.jsx("div",{className:"overflow-auto bg-primary-foreground max-h-full",children:r.jsxs(ir,{children:[r.jsx(cr,{children:r.jsxs(Te,{children:[r.jsxs(we,{className:"w-[170px] border border-border text-white sticky top-0 bg-primary cursor-pointer",onClick:()=>S("full_name"),children:["Employee name ",m.key==="full_name"?m.direction==="ascending"?"↑":"↓":""]}),r.jsxs(we,{className:"text-white border border-border text-md sticky top-0 bg-primary cursor-pointer",onClick:()=>S("CHECKTIME"),children:["Checked date ",m.key==="CHECKTIME"?m.direction==="ascending"?"↑":"↓":""]}),r.jsxs(we,{className:"text-white border border-border text-md sticky top-0 bg-primary cursor-pointer",onClick:()=>S("CHECKTIME"),children:["Checked time ",m.key==="CHECKTIME"?m.direction==="ascending"?"↑":"↓":""]}),r.jsxs(we,{className:"text-white border border-border text-md sticky top-0 bg-primary cursor-pointer",onClick:()=>S("CHECKTYPE"),children:["Checked type ",m.key==="CHECKTYPE"?m.direction==="ascending"?"↑":"↓":""]})]})}),l?r.jsx(it,{children:[1,2,3,4,5,6,7,8].map(g=>r.jsx(Te,{className:"border border-border",children:r.jsx(pe,{colSpan:4,children:r.jsx(dr,{className:" w-full h-[30px] py-3"})})},g))}):r.jsx(it,{children:D?D.map((g,A)=>r.jsxs(Te,{className:"border border-border",children:[r.jsx(pe,{className:"font-small",children:g==null?void 0:g.full_name}),r.jsx(pe,{children:Ue(g.CHECKTIME).customLongDateFormat}),r.jsx(pe,{children:Ue(g==null?void 0:g.CHECKTIME).localeTime12HourFormat}),r.jsx(pe,{children:ur(g==null?void 0:g.CHECKTYPE)})]},A)):""})]})}),r.jsxs("div",{className:" flex gap-5",children:[r.jsx(Z,{className:i.previous?"":" bg-card text-foreground",variant:i.previous?"default":"ghost",onClick:()=>{i.previous&&v(R(i.previous))},children:"Prev"}),r.jsx(Z,{onClick:()=>{console.log(R(i.next)[0]=="c"),R(i.next)[0]=="c"&&i.next&&v(R(i.next))},children:"Next"})]})]})}function ia(){return r.jsx("div",{className:"  flex flex-col w-full overflow-hidden min-h-screen ",children:r.jsx(ra,{})})}export{ia as default};
