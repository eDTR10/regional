import{p as gn,r,$ as vn,X as Et,Y as xn,Z as bn,_ as yn,a0 as Cn,a1 as ie,a2 as $n,a3 as En,a4 as wn,a5 as jn,a6 as Sn,a7 as Rn,a8 as wt,j as o,q as J,e as An,a9 as Pn,aa as jt,ab as St,ac as Rt,y as At,ad as ve,ae as Pt,af as Dn,ag as Nn,ah as Tn,ai as In,aj as kn,ak as On,al as Ln,am as Mn,an as Fn,ao as _n,ap as Bn,O as Z,aq as Un,ar as Hn,as as Kn,c as Ue,m as zn,at as Vn,au as Wn,av as w,aw as R,ax as et,ay as Yn,az as Gn,aA as Xn,aB as qn,aC as Zn,aD as Jn,A as tt,F as nt,J as rt,K as ot,N as M,aE as at,aF as Qn,aG as er,aH as tr,aI as nr,aJ as rr,aK as or,aL as ar,aM as sr,S as st,aN as lt,aO as lr,f as cr,g as ir,h as Te,i as we,k as ct,l as pe,aP as ur,d as dr,a as je}from"./index-1356e65a.js";import{_ as K}from"./extends-4c19d496.js";const fr=gn("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);var it=1,hr=.9,mr=.8,pr=.17,Ie=.1,ke=.999,gr=.9999,vr=.99,xr=/[\\\/_+.#"@\[\(\{&]/,br=/[\\\/_+.#"@\[\(\{&]/g,yr=/[\s-]/,Dt=/[\s-]/g;function He(e,n,t,a,s,l,i){if(l===n.length)return s===e.length?it:vr;var c=`${s},${l}`;if(i[c]!==void 0)return i[c];for(var u=a.charAt(l),d=t.indexOf(u,s),f=0,m,C,y,N;d>=0;)m=He(e,n,t,a,d+1,l+1,i),m>f&&(d===s?m*=it:xr.test(e.charAt(d-1))?(m*=mr,y=e.slice(s,d-1).match(br),y&&s>0&&(m*=Math.pow(ke,y.length))):yr.test(e.charAt(d-1))?(m*=hr,N=e.slice(s,d-1).match(Dt),N&&s>0&&(m*=Math.pow(ke,N.length))):(m*=pr,s>0&&(m*=Math.pow(ke,d-s))),e.charAt(d)!==n.charAt(l)&&(m*=gr)),(m<Ie&&t.charAt(d-1)===a.charAt(l+1)||a.charAt(l+1)===a.charAt(l)&&t.charAt(d-1)!==a.charAt(l))&&(C=He(e,n,t,a,d+1,l+2,i),C*Ie>m&&(m=C*Ie)),m>f&&(f=m),d=t.indexOf(u,d+1);return i[c]=f,f}function ut(e){return e.toLowerCase().replace(Dt," ")}function Cr(e,n,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,He(e,n,ut(e),ut(n),0,0,{})}function de(e,n,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e==null||e(s),t===!1||!s.defaultPrevented)return n==null?void 0:n(s)}}function $r(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Nt(...e){return n=>e.forEach(t=>$r(t,n))}function ye(...e){return r.useCallback(Nt(...e),e)}function Er(e,n=[]){let t=[];function a(l,i){const c=r.createContext(i),u=t.length;t=[...t,i];function d(m){const{scope:C,children:y,...N}=m,v=(C==null?void 0:C[e][u])||c,b=r.useMemo(()=>N,Object.values(N));return r.createElement(v.Provider,{value:b},y)}function f(m,C){const y=(C==null?void 0:C[e][u])||c,N=r.useContext(y);if(N)return N;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${l}\``)}return d.displayName=l+"Provider",[d,f]}const s=()=>{const l=t.map(i=>r.createContext(i));return function(c){const u=(c==null?void 0:c[e])||l;return r.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[a,wr(s,...n)]}function wr(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const i=a.reduce((c,{useScope:u,scopeName:d})=>{const m=u(l)[`__scope${d}`];return{...c,...m}},{});return r.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return t.scopeName=n.scopeName,t}const Ke=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},jr=vn["useId".toString()]||(()=>{});let Sr=0;function Oe(e){const[n,t]=r.useState(jr());return Ke(()=>{e||t(a=>a??String(Sr++))},[e]),e||(n?`radix-${n}`:"")}function ne(e){const n=r.useRef(e);return r.useEffect(()=>{n.current=e}),r.useMemo(()=>(...t)=>{var a;return(a=n.current)===null||a===void 0?void 0:a.call(n,...t)},[])}function Rr({prop:e,defaultProp:n,onChange:t=()=>{}}){const[a,s]=Ar({defaultProp:n,onChange:t}),l=e!==void 0,i=l?e:a,c=ne(t),u=r.useCallback(d=>{if(l){const m=typeof d=="function"?d(e):d;m!==e&&c(m)}else s(d)},[l,e,s,c]);return[i,u]}function Ar({defaultProp:e,onChange:n}){const t=r.useState(e),[a]=t,s=r.useRef(a),l=ne(n);return r.useEffect(()=>{s.current!==a&&(l(a),s.current=a)},[a,s,l]),t}const Xe=r.forwardRef((e,n)=>{const{children:t,...a}=e,s=r.Children.toArray(t),l=s.find(Dr);if(l){const i=l.props.children,c=s.map(u=>u===l?r.Children.count(i)>1?r.Children.only(null):r.isValidElement(i)?i.props.children:null:u);return r.createElement(ze,K({},a,{ref:n}),r.isValidElement(i)?r.cloneElement(i,void 0,c):null)}return r.createElement(ze,K({},a,{ref:n}),t)});Xe.displayName="Slot";const ze=r.forwardRef((e,n)=>{const{children:t,...a}=e;return r.isValidElement(t)?r.cloneElement(t,{...Nr(a,t.props),ref:n?Nt(n,t.ref):t.ref}):r.Children.count(t)>1?r.Children.only(null):null});ze.displayName="SlotClone";const Pr=({children:e})=>r.createElement(r.Fragment,null,e);function Dr(e){return r.isValidElement(e)&&e.type===Pr}function Nr(e,n){const t={...n};for(const a in n){const s=e[a],l=n[a];/^on[A-Z]/.test(a)?s&&l?t[a]=(...c)=>{l(...c),s(...c)}:s&&(t[a]=s):a==="style"?t[a]={...s,...l}:a==="className"&&(t[a]=[s,l].filter(Boolean).join(" "))}return{...e,...t}}const Tr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Y=Tr.reduce((e,n)=>{const t=r.forwardRef((a,s)=>{const{asChild:l,...i}=a,c=l?Xe:n;return r.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),r.createElement(c,K({},i,{ref:s}))});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function Ir(e,n){e&&Et.flushSync(()=>e.dispatchEvent(n))}function kr(e,n=globalThis==null?void 0:globalThis.document){const t=ne(e);r.useEffect(()=>{const a=s=>{s.key==="Escape"&&t(s)};return n.addEventListener("keydown",a),()=>n.removeEventListener("keydown",a)},[t,n])}const Ve="dismissableLayer.update",Or="dismissableLayer.pointerDownOutside",Lr="dismissableLayer.focusOutside";let dt;const Mr=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fr=r.forwardRef((e,n)=>{var t;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:i,onInteractOutside:c,onDismiss:u,...d}=e,f=r.useContext(Mr),[m,C]=r.useState(null),y=(t=m==null?void 0:m.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,N]=r.useState({}),v=ye(n,g=>C(g)),b=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),h=b.indexOf(S),x=m?b.indexOf(m):-1,P=f.layersWithOutsidePointerEventsDisabled.size>0,j=x>=h,E=_r(g=>{const D=g.target,O=[...f.branches].some(F=>F.contains(D));!j||O||(l==null||l(g),c==null||c(g),g.defaultPrevented||u==null||u())},y),I=Br(g=>{const D=g.target;[...f.branches].some(F=>F.contains(D))||(i==null||i(g),c==null||c(g),g.defaultPrevented||u==null||u())},y);return kr(g=>{x===f.layers.size-1&&(s==null||s(g),!g.defaultPrevented&&u&&(g.preventDefault(),u()))},y),r.useEffect(()=>{if(m)return a&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(dt=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),ft(),()=>{a&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=dt)}},[m,y,a,f]),r.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),ft())},[m,f]),r.useEffect(()=>{const g=()=>N({});return document.addEventListener(Ve,g),()=>document.removeEventListener(Ve,g)},[]),r.createElement(Y.div,K({},d,{ref:v,style:{pointerEvents:P?j?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,I.onFocusCapture),onBlurCapture:de(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,E.onPointerDownCapture)}))});function _r(e,n=globalThis==null?void 0:globalThis.document){const t=ne(e),a=r.useRef(!1),s=r.useRef(()=>{});return r.useEffect(()=>{const l=c=>{if(c.target&&!a.current){let d=function(){Tt(Or,t,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",s.current),s.current=d,n.addEventListener("click",s.current,{once:!0})):d()}else n.removeEventListener("click",s.current);a.current=!1},i=window.setTimeout(()=>{n.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),n.removeEventListener("pointerdown",l),n.removeEventListener("click",s.current)}},[n,t]),{onPointerDownCapture:()=>a.current=!0}}function Br(e,n=globalThis==null?void 0:globalThis.document){const t=ne(e),a=r.useRef(!1);return r.useEffect(()=>{const s=l=>{l.target&&!a.current&&Tt(Lr,t,{originalEvent:l},{discrete:!1})};return n.addEventListener("focusin",s),()=>n.removeEventListener("focusin",s)},[n,t]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ft(){const e=new CustomEvent(Ve);document.dispatchEvent(e)}function Tt(e,n,t,{discrete:a}){const s=t.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&s.addEventListener(e,n,{once:!0}),a?Ir(s,l):s.dispatchEvent(l)}const Le="focusScope.autoFocusOnMount",Me="focusScope.autoFocusOnUnmount",ht={bubbles:!1,cancelable:!0},Ur=r.forwardRef((e,n)=>{const{loop:t=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...i}=e,[c,u]=r.useState(null),d=ne(s),f=ne(l),m=r.useRef(null),C=ye(n,v=>u(v)),y=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(a){let v=function(x){if(y.paused||!c)return;const P=x.target;c.contains(P)?m.current=P:q(m.current,{select:!0})},b=function(x){if(y.paused||!c)return;const P=x.relatedTarget;P!==null&&(c.contains(P)||q(m.current,{select:!0}))},S=function(x){if(document.activeElement===document.body)for(const j of x)j.removedNodes.length>0&&q(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const h=new MutationObserver(S);return c&&h.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),h.disconnect()}}},[a,c,y.paused]),r.useEffect(()=>{if(c){pt.add(y);const v=document.activeElement;if(!c.contains(v)){const S=new CustomEvent(Le,ht);c.addEventListener(Le,d),c.dispatchEvent(S),S.defaultPrevented||(Hr(Yr(It(c)),{select:!0}),document.activeElement===v&&q(c))}return()=>{c.removeEventListener(Le,d),setTimeout(()=>{const S=new CustomEvent(Me,ht);c.addEventListener(Me,f),c.dispatchEvent(S),S.defaultPrevented||q(v??document.body,{select:!0}),c.removeEventListener(Me,f),pt.remove(y)},0)}}},[c,d,f,y]);const N=r.useCallback(v=>{if(!t&&!a||y.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,S=document.activeElement;if(b&&S){const h=v.currentTarget,[x,P]=Kr(h);x&&P?!v.shiftKey&&S===P?(v.preventDefault(),t&&q(x,{select:!0})):v.shiftKey&&S===x&&(v.preventDefault(),t&&q(P,{select:!0})):S===h&&v.preventDefault()}},[t,a,y.paused]);return r.createElement(Y.div,K({tabIndex:-1},i,{ref:C,onKeyDown:N}))});function Hr(e,{select:n=!1}={}){const t=document.activeElement;for(const a of e)if(q(a,{select:n}),document.activeElement!==t)return}function Kr(e){const n=It(e),t=mt(n,e),a=mt(n.reverse(),e);return[t,a]}function It(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function mt(e,n){for(const t of e)if(!zr(t,{upTo:n}))return t}function zr(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Vr(e){return e instanceof HTMLInputElement&&"select"in e}function q(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Vr(e)&&n&&e.select()}}const pt=Wr();function Wr(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=gt(e,n),e.unshift(n)},remove(n){var t;e=gt(e,n),(t=e[0])===null||t===void 0||t.resume()}}}function gt(e,n){const t=[...e],a=t.indexOf(n);return a!==-1&&t.splice(a,1),t}function Yr(e){return e.filter(n=>n.tagName!=="A")}const Gr=r.forwardRef((e,n)=>{var t;const{container:a=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...s}=e;return a?xn.createPortal(r.createElement(Y.div,K({},s,{ref:n})),a):null});function Xr(e,n){return r.useReducer((t,a)=>{const s=n[t][a];return s??t},e)}const Pe=e=>{const{present:n,children:t}=e,a=qr(n),s=typeof t=="function"?t({present:a.isPresent}):r.Children.only(t),l=ye(a.ref,s.ref);return typeof t=="function"||a.isPresent?r.cloneElement(s,{ref:l}):null};Pe.displayName="Presence";function qr(e){const[n,t]=r.useState(),a=r.useRef({}),s=r.useRef(e),l=r.useRef("none"),i=e?"mounted":"unmounted",[c,u]=Xr(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const d=Se(a.current);l.current=c==="mounted"?d:"none"},[c]),Ke(()=>{const d=a.current,f=s.current;if(f!==e){const C=l.current,y=Se(d);e?u("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&C!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Ke(()=>{if(n){const d=m=>{const y=Se(a.current).includes(m.animationName);m.target===n&&y&&Et.flushSync(()=>u("ANIMATION_END"))},f=m=>{m.target===n&&(l.current=Se(a.current))};return n.addEventListener("animationstart",f),n.addEventListener("animationcancel",d),n.addEventListener("animationend",d),()=>{n.removeEventListener("animationstart",f),n.removeEventListener("animationcancel",d),n.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:r.useCallback(d=>{d&&(a.current=getComputedStyle(d)),t(d)},[])}}function Se(e){return(e==null?void 0:e.animationName)||"none"}let Fe=0;function Zr(){r.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!==null&&e!==void 0?e:vt()),document.body.insertAdjacentElement("beforeend",(n=t[1])!==null&&n!==void 0?n:vt()),Fe++,()=>{Fe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Fe--}},[])}function vt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var kt=bn(),_e=function(){},De=r.forwardRef(function(e,n){var t=r.useRef(null),a=r.useState({onScrollCapture:_e,onWheelCapture:_e,onTouchMoveCapture:_e}),s=a[0],l=a[1],i=e.forwardProps,c=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,C=e.sideCar,y=e.noIsolation,N=e.inert,v=e.allowPinchZoom,b=e.as,S=b===void 0?"div":b,h=yn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=C,P=Cn([t,n]),j=ie(ie({},h),s);return r.createElement(r.Fragment,null,f&&r.createElement(x,{sideCar:kt,removeScrollBar:d,shards:m,noIsolation:y,inert:N,setCallbacks:l,allowPinchZoom:!!v,lockRef:t}),i?r.cloneElement(r.Children.only(c),ie(ie({},j),{ref:P})):r.createElement(S,ie({},j,{className:u,ref:P}),c))});De.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};De.classNames={fullWidth:$n,zeroRight:En};var We=!1;if(typeof window<"u")try{var Re=Object.defineProperty({},"passive",{get:function(){return We=!0,!0}});window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch{We=!1}var le=We?{passive:!1}:!1,Jr=function(e){return e.tagName==="TEXTAREA"},Ot=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!Jr(e)&&t[n]==="visible")},Qr=function(e){return Ot(e,"overflowY")},eo=function(e){return Ot(e,"overflowX")},xt=function(e,n){var t=n;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var a=Lt(e,t);if(a){var s=Mt(e,t),l=s[1],i=s[2];if(l>i)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},to=function(e){var n=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[n,t,a]},no=function(e){var n=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[n,t,a]},Lt=function(e,n){return e==="v"?Qr(n):eo(n)},Mt=function(e,n){return e==="v"?to(n):no(n)},ro=function(e,n){return e==="h"&&n==="rtl"?-1:1},oo=function(e,n,t,a,s){var l=ro(e,window.getComputedStyle(n).direction),i=l*a,c=t.target,u=n.contains(c),d=!1,f=i>0,m=0,C=0;do{var y=Mt(e,c),N=y[0],v=y[1],b=y[2],S=v-b-l*N;(N||S)&&Lt(e,c)&&(m+=S,C+=N),c=c.parentNode}while(!u&&c!==document.body||u&&(n.contains(c)||n===c));return(f&&(s&&m===0||!s&&i>m)||!f&&(s&&C===0||!s&&-i>C))&&(d=!0),d},Ae=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bt=function(e){return[e.deltaX,e.deltaY]},yt=function(e){return e&&"current"in e?e.current:e},ao=function(e,n){return e[0]===n[0]&&e[1]===n[1]},so=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lo=0,ce=[];function co(e){var n=r.useRef([]),t=r.useRef([0,0]),a=r.useRef(),s=r.useState(lo++)[0],l=r.useState(function(){return wn()})[0],i=r.useRef(e);r.useEffect(function(){i.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=jn([e.lockRef.current],(e.shards||[]).map(yt),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=r.useCallback(function(v,b){if("touches"in v&&v.touches.length===2)return!i.current.allowPinchZoom;var S=Ae(v),h=t.current,x="deltaX"in v?v.deltaX:h[0]-S[0],P="deltaY"in v?v.deltaY:h[1]-S[1],j,E=v.target,I=Math.abs(x)>Math.abs(P)?"h":"v";if("touches"in v&&I==="h"&&E.type==="range")return!1;var g=xt(I,E);if(!g)return!0;if(g?j=I:(j=I==="v"?"h":"v",g=xt(I,E)),!g)return!1;if(!a.current&&"changedTouches"in v&&(x||P)&&(a.current=j),!j)return!0;var D=a.current||j;return oo(D,b,v,D==="h"?x:P,!0)},[]),u=r.useCallback(function(v){var b=v;if(!(!ce.length||ce[ce.length-1]!==l)){var S="deltaY"in b?bt(b):Ae(b),h=n.current.filter(function(j){return j.name===b.type&&j.target===b.target&&ao(j.delta,S)})[0];if(h&&h.should){b.cancelable&&b.preventDefault();return}if(!h){var x=(i.current.shards||[]).map(yt).filter(Boolean).filter(function(j){return j.contains(b.target)}),P=x.length>0?c(b,x[0]):!i.current.noIsolation;P&&b.cancelable&&b.preventDefault()}}},[]),d=r.useCallback(function(v,b,S,h){var x={name:v,delta:b,target:S,should:h};n.current.push(x),setTimeout(function(){n.current=n.current.filter(function(P){return P!==x})},1)},[]),f=r.useCallback(function(v){t.current=Ae(v),a.current=void 0},[]),m=r.useCallback(function(v){d(v.type,bt(v),v.target,c(v,e.lockRef.current))},[]),C=r.useCallback(function(v){d(v.type,Ae(v),v.target,c(v,e.lockRef.current))},[]);r.useEffect(function(){return ce.push(l),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:C}),document.addEventListener("wheel",u,le),document.addEventListener("touchmove",u,le),document.addEventListener("touchstart",f,le),function(){ce=ce.filter(function(v){return v!==l}),document.removeEventListener("wheel",u,le),document.removeEventListener("touchmove",u,le),document.removeEventListener("touchstart",f,le)}},[]);var y=e.removeScrollBar,N=e.inert;return r.createElement(r.Fragment,null,N?r.createElement(l,{styles:so(s)}):null,y?r.createElement(Sn,{gapMode:"margin"}):null)}const io=Rn(kt,co);var Ft=r.forwardRef(function(e,n){return r.createElement(De,ie({},e,{ref:n,sideCar:io}))});Ft.classNames=De.classNames;const uo=Ft,_t="Dialog",[Bt,sa]=Er(_t),[fo,ae]=Bt(_t),ho=e=>{const{__scopeDialog:n,children:t,open:a,defaultOpen:s,onOpenChange:l,modal:i=!0}=e,c=r.useRef(null),u=r.useRef(null),[d=!1,f]=Rr({prop:a,defaultProp:s,onChange:l});return r.createElement(fo,{scope:n,triggerRef:c,contentRef:u,contentId:Oe(),titleId:Oe(),descriptionId:Oe(),open:d,onOpenChange:f,onOpenToggle:r.useCallback(()=>f(m=>!m),[f]),modal:i},t)},Ut="DialogPortal",[mo,Ht]=Bt(Ut,{forceMount:void 0}),po=e=>{const{__scopeDialog:n,forceMount:t,children:a,container:s}=e,l=ae(Ut,n);return r.createElement(mo,{scope:n,forceMount:t},r.Children.map(a,i=>r.createElement(Pe,{present:t||l.open},r.createElement(Gr,{asChild:!0,container:s},i))))},Ye="DialogOverlay",go=r.forwardRef((e,n)=>{const t=Ht(Ye,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,l=ae(Ye,e.__scopeDialog);return l.modal?r.createElement(Pe,{present:a||l.open},r.createElement(vo,K({},s,{ref:n}))):null}),vo=r.forwardRef((e,n)=>{const{__scopeDialog:t,...a}=e,s=ae(Ye,t);return r.createElement(uo,{as:Xe,allowPinchZoom:!0,shards:[s.contentRef]},r.createElement(Y.div,K({"data-state":zt(s.open)},a,{ref:n,style:{pointerEvents:"auto",...a.style}})))}),xe="DialogContent",xo=r.forwardRef((e,n)=>{const t=Ht(xe,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,l=ae(xe,e.__scopeDialog);return r.createElement(Pe,{present:a||l.open},l.modal?r.createElement(bo,K({},s,{ref:n})):r.createElement(yo,K({},s,{ref:n})))}),bo=r.forwardRef((e,n)=>{const t=ae(xe,e.__scopeDialog),a=r.useRef(null),s=ye(n,t.contentRef,a);return r.useEffect(()=>{const l=a.current;if(l)return wt(l)},[]),r.createElement(Kt,K({},e,{ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),(i=t.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&l.preventDefault()}),onFocusOutside:de(e.onFocusOutside,l=>l.preventDefault())}))}),yo=r.forwardRef((e,n)=>{const t=ae(xe,e.__scopeDialog),a=r.useRef(!1),s=r.useRef(!1);return r.createElement(Kt,K({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,l),!l.defaultPrevented){var c;a.current||(c=t.triggerRef.current)===null||c===void 0||c.focus(),l.preventDefault()}a.current=!1,s.current=!1},onInteractOutside:l=>{var i,c;(i=e.onInteractOutside)===null||i===void 0||i.call(e,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=l.target;((c=t.triggerRef.current)===null||c===void 0?void 0:c.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}}))}),Kt=r.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,...i}=e,c=ae(xe,t),u=r.useRef(null),d=ye(n,u);return Zr(),r.createElement(r.Fragment,null,r.createElement(Ur,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l},r.createElement(Fr,K({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":zt(c.open)},i,{ref:d,onDismiss:()=>c.onOpenChange(!1)}))),!1)});function zt(e){return e?"open":"closed"}const Co=ho,$o=po,Eo=go,wo=xo;var ge='[cmdk-group=""]',Be='[cmdk-group-items=""]',jo='[cmdk-group-heading=""]',qe='[cmdk-item=""]',Ct=`${qe}:not([aria-disabled="true"])`,Ge="cmdk-item-select",te="data-value",So=(e,n,t)=>Cr(e,n,t),Vt=r.createContext(void 0),Ce=()=>r.useContext(Vt),Wt=r.createContext(void 0),Ze=()=>r.useContext(Wt),Yt=r.createContext(void 0),Gt=r.forwardRef((e,n)=>{let t=ue(()=>{var p,A;return{search:"",value:(A=(p=e.value)!=null?p:e.defaultValue)!=null?A:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=ue(()=>new Set),s=ue(()=>new Map),l=ue(()=>new Map),i=ue(()=>new Set),c=Xt(e),{label:u,children:d,value:f,onValueChange:m,filter:C,shouldFilter:y,loop:N,disablePointerSelection:v=!1,vimBindings:b=!0,...S}=e,h=r.useId(),x=r.useId(),P=r.useId(),j=r.useRef(null),E=Mo();re(()=>{if(f!==void 0){let p=f.trim();t.current.value=p,I.emit()}},[f]),re(()=>{E(6,_)},[]);let I=r.useMemo(()=>({subscribe:p=>(i.current.add(p),()=>i.current.delete(p)),snapshot:()=>t.current,setState:(p,A,T)=>{var $,k,L;if(!Object.is(t.current[p],A)){if(t.current[p]=A,p==="search")G(),O(),E(1,F);else if(p==="value"&&(T||E(5,_),(($=c.current)==null?void 0:$.value)!==void 0)){let W=A??"";(L=(k=c.current).onValueChange)==null||L.call(k,W);return}I.emit()}},emit:()=>{i.current.forEach(p=>p())}}),[]),g=r.useMemo(()=>({value:(p,A,T)=>{var $;A!==(($=l.current.get(p))==null?void 0:$.value)&&(l.current.set(p,{value:A,keywords:T}),t.current.filtered.items.set(p,D(A,T)),E(2,()=>{O(),I.emit()}))},item:(p,A)=>(a.current.add(p),A&&(s.current.has(A)?s.current.get(A).add(p):s.current.set(A,new Set([p]))),E(3,()=>{G(),O(),t.current.value||F(),I.emit()}),()=>{l.current.delete(p),a.current.delete(p),t.current.filtered.items.delete(p);let T=B();E(4,()=>{G(),(T==null?void 0:T.getAttribute("id"))===p&&F(),I.emit()})}),group:p=>(s.current.has(p)||s.current.set(p,new Set),()=>{l.current.delete(p),s.current.delete(p)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],disablePointerSelection:v,listId:h,inputId:P,labelId:x,listInnerRef:j}),[]);function D(p,A){var T,$;let k=($=(T=c.current)==null?void 0:T.filter)!=null?$:So;return p?k(p,t.current.search,A):0}function O(){if(!t.current.search||c.current.shouldFilter===!1)return;let p=t.current.filtered.items,A=[];t.current.filtered.groups.forEach($=>{let k=s.current.get($),L=0;k.forEach(W=>{let ee=p.get(W);L=Math.max(ee,L)}),A.push([$,L])});let T=j.current;z().sort(($,k)=>{var L,W;let ee=$.getAttribute("id"),Ee=k.getAttribute("id");return((L=p.get(Ee))!=null?L:0)-((W=p.get(ee))!=null?W:0)}).forEach($=>{let k=$.closest(Be);k?k.appendChild($.parentElement===k?$:$.closest(`${Be} > *`)):T.appendChild($.parentElement===T?$:$.closest(`${Be} > *`))}),A.sort(($,k)=>k[1]-$[1]).forEach($=>{let k=j.current.querySelector(`${ge}[${te}="${encodeURIComponent($[0])}"]`);k==null||k.parentElement.appendChild(k)})}function F(){let p=z().find(T=>T.getAttribute("aria-disabled")!=="true"),A=p==null?void 0:p.getAttribute(te);I.setState("value",A||void 0)}function G(){var p,A,T,$;if(!t.current.search||c.current.shouldFilter===!1){t.current.filtered.count=a.current.size;return}t.current.filtered.groups=new Set;let k=0;for(let L of a.current){let W=(A=(p=l.current.get(L))==null?void 0:p.value)!=null?A:"",ee=($=(T=l.current.get(L))==null?void 0:T.keywords)!=null?$:[],Ee=D(W,ee);t.current.filtered.items.set(L,Ee),Ee>0&&k++}for(let[L,W]of s.current)for(let ee of W)if(t.current.filtered.items.get(ee)>0){t.current.filtered.groups.add(L);break}t.current.filtered.count=k}function _(){var p,A,T;let $=B();$&&(((p=$.parentElement)==null?void 0:p.firstChild)===$&&((T=(A=$.closest(ge))==null?void 0:A.querySelector(jo))==null||T.scrollIntoView({block:"nearest"})),$.scrollIntoView({block:"nearest"}))}function B(){var p;return(p=j.current)==null?void 0:p.querySelector(`${qe}[aria-selected="true"]`)}function z(){var p;return Array.from((p=j.current)==null?void 0:p.querySelectorAll(Ct))}function X(p){let A=z()[p];A&&I.setState("value",A.getAttribute(te))}function se(p){var A;let T=B(),$=z(),k=$.findIndex(W=>W===T),L=$[k+p];(A=c.current)!=null&&A.loop&&(L=k+p<0?$[$.length-1]:k+p===$.length?$[0]:$[k+p]),L&&I.setState("value",L.getAttribute(te))}function he(p){let A=B(),T=A==null?void 0:A.closest(ge),$;for(;T&&!$;)T=p>0?Oo(T,ge):Lo(T,ge),$=T==null?void 0:T.querySelector(Ct);$?I.setState("value",$.getAttribute(te)):se(p)}let H=()=>X(z().length-1),V=p=>{p.preventDefault(),p.metaKey?H():p.altKey?he(1):se(1)},me=p=>{p.preventDefault(),p.metaKey?X(0):p.altKey?he(-1):se(-1)};return r.createElement(Y.div,{ref:n,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:p=>{var A;if((A=S.onKeyDown)==null||A.call(S,p),!p.defaultPrevented)switch(p.key){case"n":case"j":{b&&p.ctrlKey&&V(p);break}case"ArrowDown":{V(p);break}case"p":case"k":{b&&p.ctrlKey&&me(p);break}case"ArrowUp":{me(p);break}case"Home":{p.preventDefault(),X(0);break}case"End":{p.preventDefault(),H();break}case"Enter":if(!p.nativeEvent.isComposing&&p.keyCode!==229){p.preventDefault();let T=B();if(T){let $=new Event(Ge);T.dispatchEvent($)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:g.inputId,id:g.labelId,style:_o},u),Ne(e,p=>r.createElement(Wt.Provider,{value:I},r.createElement(Vt.Provider,{value:g},p))))}),Ro=r.forwardRef((e,n)=>{var t,a;let s=r.useId(),l=r.useRef(null),i=r.useContext(Yt),c=Ce(),u=Xt(e),d=(a=(t=u.current)==null?void 0:t.forceMount)!=null?a:i==null?void 0:i.forceMount;re(()=>{if(!d)return c.item(s,i==null?void 0:i.id)},[d]);let f=qt(s,l,[e.value,e.children,l],e.keywords),m=Ze(),C=oe(E=>E.value&&E.value===f.current),y=oe(E=>d||c.filter()===!1?!0:E.search?E.filtered.items.get(s)>0:!0);r.useEffect(()=>{let E=l.current;if(!(!E||e.disabled))return E.addEventListener(Ge,N),()=>E.removeEventListener(Ge,N)},[y,e.onSelect,e.disabled]);function N(){var E,I;v(),(I=(E=u.current).onSelect)==null||I.call(E,f.current)}function v(){m.setState("value",f.current,!0)}if(!y)return null;let{disabled:b,value:S,onSelect:h,forceMount:x,keywords:P,...j}=e;return r.createElement(Y.div,{ref:be([l,n]),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!C,"data-disabled":!!b,"data-selected":!!C,onPointerMove:b||c.disablePointerSelection?void 0:v,onClick:b?void 0:N},e.children)}),Ao=r.forwardRef((e,n)=>{let{heading:t,children:a,forceMount:s,...l}=e,i=r.useId(),c=r.useRef(null),u=r.useRef(null),d=r.useId(),f=Ce(),m=oe(y=>s||f.filter()===!1?!0:y.search?y.filtered.groups.has(i):!0);re(()=>f.group(i),[]),qt(i,c,[e.value,e.heading,u]);let C=r.useMemo(()=>({id:i,forceMount:s}),[s]);return r.createElement(Y.div,{ref:be([c,n]),...l,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},t&&r.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:d},t),Ne(e,y=>r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?d:void 0},r.createElement(Yt.Provider,{value:C},y))))}),Po=r.forwardRef((e,n)=>{let{alwaysRender:t,...a}=e,s=r.useRef(null),l=oe(i=>!i.search);return!t&&!l?null:r.createElement(Y.div,{ref:be([s,n]),...a,"cmdk-separator":"",role:"separator"})}),Do=r.forwardRef((e,n)=>{let{onValueChange:t,...a}=e,s=e.value!=null,l=Ze(),i=oe(f=>f.search),c=oe(f=>f.value),u=Ce(),d=r.useMemo(()=>{var f;let m=(f=u.listInnerRef.current)==null?void 0:f.querySelector(`${qe}[${te}="${encodeURIComponent(c)}"]`);return m==null?void 0:m.getAttribute("id")},[]);return r.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),r.createElement(Y.input,{ref:n,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":d,id:u.inputId,type:"text",value:s?e.value:i,onChange:f=>{s||l.setState("search",f.target.value),t==null||t(f.target.value)}})}),No=r.forwardRef((e,n)=>{let{children:t,label:a="Suggestions",...s}=e,l=r.useRef(null),i=r.useRef(null),c=Ce();return r.useEffect(()=>{if(i.current&&l.current){let u=i.current,d=l.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let C=u.offsetHeight;d.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),r.createElement(Y.div,{ref:be([l,n]),...s,"cmdk-list":"",role:"listbox","aria-label":a,id:c.listId},Ne(e,u=>r.createElement("div",{ref:be([i,c.listInnerRef]),"cmdk-list-sizer":""},u)))}),To=r.forwardRef((e,n)=>{let{open:t,onOpenChange:a,overlayClassName:s,contentClassName:l,container:i,...c}=e;return r.createElement(Co,{open:t,onOpenChange:a},r.createElement($o,{container:i},r.createElement(Eo,{"cmdk-overlay":"",className:s}),r.createElement(wo,{"aria-label":e.label,"cmdk-dialog":"",className:l},r.createElement(Gt,{ref:n,...c}))))}),Io=r.forwardRef((e,n)=>oe(t=>t.filtered.count===0)?r.createElement(Y.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),ko=r.forwardRef((e,n)=>{let{progress:t,children:a,label:s="Loading...",...l}=e;return r.createElement(Y.div,{ref:n,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Ne(e,i=>r.createElement("div",{"aria-hidden":!0},i)))}),U=Object.assign(Gt,{List:No,Item:Ro,Input:Do,Group:Ao,Separator:Po,Dialog:To,Empty:Io,Loading:ko});function Oo(e,n){let t=e.nextElementSibling;for(;t;){if(t.matches(n))return t;t=t.nextElementSibling}}function Lo(e,n){let t=e.previousElementSibling;for(;t;){if(t.matches(n))return t;t=t.previousElementSibling}}function Xt(e){let n=r.useRef(e);return re(()=>{n.current=e}),n}var re=typeof window>"u"?r.useEffect:r.useLayoutEffect;function ue(e){let n=r.useRef();return n.current===void 0&&(n.current=e()),n}function be(e){return n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}function oe(e){let n=Ze(),t=()=>e(n.snapshot());return r.useSyncExternalStore(n.subscribe,t,t)}function qt(e,n,t,a=[]){let s=r.useRef(),l=Ce();return re(()=>{var i;let c=(()=>{var d;for(let f of t){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(d=f.current.textContent)==null?void 0:d.trim():s.current}})(),u=a.map(d=>d.trim());l.value(e,c,u),(i=n.current)==null||i.setAttribute(te,c),s.current=c}),s}var Mo=()=>{let[e,n]=r.useState(),t=ue(()=>new Map);return re(()=>{t.current.forEach(a=>a()),t.current=new Map},[e]),(a,s)=>{t.current.set(a,s),n({})}};function Fo(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function Ne({asChild:e,children:n},t){return e&&r.isValidElement(n)?r.cloneElement(Fo(n),{ref:n.ref},t(n.props.children)):t(n)}var _o={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Zt=r.forwardRef(({className:e,...n},t)=>o.jsx(U,{ref:t,className:J("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));Zt.displayName=U.displayName;const Jt=r.forwardRef(({className:e,...n},t)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(An,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(U.Input,{ref:t,className:J("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));Jt.displayName=U.Input.displayName;const Qt=r.forwardRef(({className:e,...n},t)=>o.jsx(U.List,{ref:t,className:J("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));Qt.displayName=U.List.displayName;const en=r.forwardRef((e,n)=>o.jsx(U.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));en.displayName=U.Empty.displayName;const tn=r.forwardRef(({className:e,...n},t)=>o.jsx(U.Group,{ref:t,className:J("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));tn.displayName=U.Group.displayName;const Bo=r.forwardRef(({className:e,...n},t)=>o.jsx(U.Separator,{ref:t,className:J("-mx-1 h-px bg-border",e),...n}));Bo.displayName=U.Separator.displayName;const nn=r.forwardRef(({className:e,...n},t)=>o.jsx(U.Item,{ref:t,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...n}));nn.displayName=U.Item.displayName;var Je="Popover",[rn,la]=Pn(Je,[jt]),$e=jt(),[Uo,Q]=rn(Je),on=e=>{const{__scopePopover:n,children:t,open:a,defaultOpen:s,onOpenChange:l,modal:i=!1}=e,c=$e(n),u=r.useRef(null),[d,f]=r.useState(!1),[m=!1,C]=Fn({prop:a,defaultProp:s,onChange:l});return o.jsx(_n,{...c,children:o.jsx(Uo,{scope:n,contentId:Bn(),triggerRef:u,open:m,onOpenChange:C,onOpenToggle:r.useCallback(()=>C(y=>!y),[C]),hasCustomAnchor:d,onCustomAnchorAdd:r.useCallback(()=>f(!0),[]),onCustomAnchorRemove:r.useCallback(()=>f(!1),[]),modal:i,children:t})})};on.displayName=Je;var an="PopoverAnchor",Ho=r.forwardRef((e,n)=>{const{__scopePopover:t,...a}=e,s=Q(an,t),l=$e(t),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=s;return r.useEffect(()=>(i(),()=>c()),[i,c]),o.jsx(St,{...l,...a,ref:n})});Ho.displayName=an;var sn="PopoverTrigger",ln=r.forwardRef((e,n)=>{const{__scopePopover:t,...a}=e,s=Q(sn,t),l=$e(t),i=Rt(n,s.triggerRef),c=o.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hn(s.open),...a,ref:i,onClick:ve(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:o.jsx(St,{asChild:!0,...l,children:c})});ln.displayName=sn;var Qe="PopoverPortal",[Ko,zo]=rn(Qe,{forceMount:void 0}),cn=e=>{const{__scopePopover:n,forceMount:t,children:a,container:s}=e,l=Q(Qe,n);return o.jsx(Ko,{scope:n,forceMount:t,children:o.jsx(Pt,{present:t||l.open,children:o.jsx(Mn,{asChild:!0,container:s,children:a})})})};cn.displayName=Qe;var fe="PopoverContent",un=r.forwardRef((e,n)=>{const t=zo(fe,e.__scopePopover),{forceMount:a=t.forceMount,...s}=e,l=Q(fe,e.__scopePopover);return o.jsx(Pt,{present:a||l.open,children:l.modal?o.jsx(Vo,{...s,ref:n}):o.jsx(Wo,{...s,ref:n})})});un.displayName=fe;var Vo=r.forwardRef((e,n)=>{const t=Q(fe,e.__scopePopover),a=r.useRef(null),s=Rt(n,a),l=r.useRef(!1);return r.useEffect(()=>{const i=a.current;if(i)return wt(i)},[]),o.jsx(Dn,{as:Nn,allowPinchZoom:!0,children:o.jsx(dn,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),l.current||(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;l.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ve(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Wo=r.forwardRef((e,n)=>{const t=Q(fe,e.__scopePopover),a=r.useRef(!1),s=r.useRef(!1);return o.jsx(dn,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,l),l.defaultPrevented||(a.current||(c=t.triggerRef.current)==null||c.focus(),l.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:l=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=l.target;((d=t.triggerRef.current)==null?void 0:d.contains(i))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),dn=r.forwardRef((e,n)=>{const{__scopePopover:t,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,...m}=e,C=Q(fe,t),y=$e(t);return Tn(),o.jsx(In,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l,children:o.jsx(kn,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>C.onOpenChange(!1),children:o.jsx(On,{"data-state":hn(C.open),role:"dialog",id:C.contentId,...y,...m,ref:n,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),fn="PopoverClose",Yo=r.forwardRef((e,n)=>{const{__scopePopover:t,...a}=e,s=Q(fn,t);return o.jsx(At.button,{type:"button",...a,ref:n,onClick:ve(e.onClick,()=>s.onOpenChange(!1))})});Yo.displayName=fn;var Go="PopoverArrow",Xo=r.forwardRef((e,n)=>{const{__scopePopover:t,...a}=e,s=$e(t);return o.jsx(Ln,{...s,...a,ref:n})});Xo.displayName=Go;function hn(e){return e?"open":"closed"}var qo=on,Zo=ln,Jo=cn,mn=un;const Qo=qo,ea=Zo,pn=r.forwardRef(({className:e,align:n="center",sideOffset:t=4,...a},s)=>o.jsx(Jo,{children:o.jsx(mn,{ref:s,align:n,sideOffset:t,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));pn.displayName=mn.displayName;function ta({users:e}){var l;const[n,t]=r.useState(!1),[a,s]=r.useState("");return o.jsxs("div",{className:" flex flex-col gap-2 w-full",children:[o.jsx("p",{className:"  text-foreground",children:"Select employee's name"}),o.jsxs(Qo,{open:n,onOpenChange:t,children:[o.jsx(ea,{asChild:!0,children:o.jsxs(Z,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between  text-foreground",children:[a?(l=e.find(i=>i.full_name===a))==null?void 0:l.full_name:"Select employee...",o.jsx(Un,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(pn,{className:" w-[300px] p-0 ",children:o.jsxs(Zt,{children:[o.jsx(Jt,{placeholder:"Search employee...",className:"h-9 w-full"}),o.jsxs(Qt,{children:[o.jsx(en,{children:"No Employee found"}),o.jsx(tn,{children:e.map(i=>o.jsxs(nn,{value:i.full_name,onSelect:c=>{s(c===a?"":c),localStorage.setItem("selectedID",i.uid),localStorage.setItem("selectedName",i.full_name),t(!1)},children:[i.full_name,o.jsx(Hn,{className:J("ml-auto h-4 w-4",a===i.full_name?"opacity-100":"opacity-0")})]},i.uid))})]})]})})]})]})}Kn.register({family:"Roboto",fonts:[{src:"https://edtr10.github.io/regional/calibri-font-family/calibri-regular.ttf"},{src:"https://edtr10.github.io/regional/calibri-font-family/calibri-italic.ttf",fontStyle:"italic"},{src:"https://edtr10.github.io/regional/calibri-font-family/calibri-bold.ttf",fontStyle:"bold"}]});const $t=({name:e,date:n,data:t,selectedYear:a,selectedMonth:s,previewUrl:l,selectedSchedule:i})=>{var b,S;const c=h=>new Date(h).getUTCDate();let u={};(b=t.results)==null||b.forEach(h=>{const x=c(h.CHECKTIME);u[x]||(u[x]={I:[],O:[],i:[],o:[]});const P=Ue(h.CHECKTIME).localeTime12HourFormat;h.CHECKTYPE==="I"?u[x].I.push(P.replace(/ AM| PM/,"")):h.CHECKTYPE==="o"?u[x].O.push(P.replace(/ AM| PM/,"")):h.CHECKTYPE==="0"?u[x].i.push(P.replace(/ AM| PM/,"")||"12:00"):h.CHECKTYPE==="i"&&u[x].o.push(P.replace(/ AM| PM/,""))});const d={};(S=t.activities)==null||S.forEach(h=>{const x=new Date(h.fromDate),P=new Date(h.toDate);for(let j=new Date(x);j<=P;j.setDate(j.getDate()+1)){const E=j.getDate();d[E]||(d[E]=[]),d[E].push({activity_id:h.activity_id,description:`${zn(h.status)} - ${h.description}`,status:h.status,period:h.period})}});const f=h=>{switch(h.length){case 4:return h[0];case 3:return h[0];case 2:return h[1];case 1:return h[0];default:return""}},m=h=>{switch(h.length){case 4:return h[0];case 3:return h[0];case 2:return h[0];case 1:return h[0];default:return""}},C=(h,x)=>{switch(h.length){case 3:return x.length!=0&&h.length!=2?"12:00":h[0];case 2:return x.length!=0&&h.length!=2?"12:00":h[0];case 1:return x.length!=0&&h.length!=1?"12:00":h[0];default:return x.length!=0?"12:00":""}},y=(h,x)=>{switch(h.length){case 3:return x.length!=0&&x.length!=3?"01:00":h[0];case 2:return x.length!=0&&x.length!=2?"01:00":h[0];case 1:return x.length!=0&&x.length!=1?"01:00":h[0];default:return x.length!=0?"01:00":""}},N=h=>{const x={5:{timeIn:420,timeOut:960},6:{timeIn:450,timeOut:990},7:{timeIn:480,timeOut:1020},8:{timeIn:510,timeOut:1050},9:{timeIn:540,timeOut:1080},10:{timeIn:570,timeOut:1110},11:{timeIn:600,timeOut:1140}};return x[h]||x[7]},v=(h,x)=>{const j=N(i||"7"),E=j.timeIn,I=j.timeOut,[g,D]=h?h.split(":").map(Number):"12:00".split(":").map(Number),[O,F]=x.split(":").map(Number),G=g*60+D,_=O*60+F;let B=0;G>E&&(B+=G-E),_<I&&(B+=I-_);const z=Math.floor(B/60),X=B%60;return{hours:z,minutes:X}};return o.jsx(Vn,{title:`${e?e.toUpperCase():""}_DTR_${n}.pdf`,children:o.jsx(Wn,{size:"A4",style:{fontFamily:"Roboto",flexDirection:"row",backgroundColor:"#ffffff",fontSize:8,padding:30},children:[1,2].map((h,x)=>o.jsxs(w,{style:{width:"50%",paddingHorizontal:8},children:[o.jsx(R,{style:{fontSize:6,marginBottom:5,fontStyle:"italic"},children:"  Civil Service Form No. 48"}),o.jsx(et,{src:Yn,style:{height:60,objectFit:"contain",alignSelf:"center",marginBottom:10}}),o.jsx(R,{style:{fontSize:10,fontStyle:"bold",textAlign:"center",marginBottom:3},children:"DAILY TIME RECORD"}),o.jsx(R,{style:{fontSize:10,textAlign:"center",marginBottom:10}}),o.jsx(R,{style:{fontSize:9,textAlign:"center",textTransform:"uppercase",borderBottom:.5,marginBottom:1,fontStyle:"bold"},children:e?e.toUpperCase():"JOHN C. DOE"}),o.jsx(R,{style:{fontSize:8,textAlign:"center"},children:"( Name )"}),o.jsxs(w,{style:{flexDirection:"row",marginTop:10,marginBottom:5},children:[o.jsxs(w,{style:{width:"50%",textAlign:"left"},children:[o.jsx(R,{children:"For the month of"}),o.jsx(R,{children:"Official hours for arrival"}),o.jsx(R,{children:"and departure"})]}),o.jsxs(w,{style:{width:"50%"},children:[o.jsx(R,{style:{borderBottom:.5,marginBottom:1,fontStyle:"bold",textAlign:"center"},children:n}),o.jsxs(w,{style:{flexDirection:"row"},children:[o.jsx(R,{children:"Regular days"}),o.jsx(w,{style:{borderBottom:.5,marginBottom:1,marginLeft:22,width:"100%"}})]}),o.jsxs(w,{style:{flexDirection:"row"},children:[o.jsx(R,{children:"Saturdays"}),o.jsx(w,{style:{borderBottom:.5,marginBottom:1,marginLeft:20,width:"100%"}})]})]})]}),o.jsxs(w,{style:{border:.5,marginVertical:10},children:[o.jsxs(w,{style:{flexDirection:"row",borderBottom:.5,alignItems:"center",height:12,fontSize:7},children:[o.jsx(w,{style:{width:"8%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{children:"Day"})}),o.jsx(w,{style:{width:"34.5%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{children:"AM"})}),o.jsx(w,{style:{width:"34.5%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{children:"PM"})}),o.jsx(w,{style:{width:"23%",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{children:"Undertime"})})]},x),o.jsxs(w,{style:{flexDirection:"row",borderBottom:.5,alignItems:"center",height:12,fontSize:7},children:[o.jsx(w,{style:{width:"8%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{})}),o.jsx(w,{style:{width:"17.25%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{children:"Arrival"})}),o.jsx(w,{style:{width:"17.25%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{children:"Departure"})}),o.jsx(w,{style:{width:"17.25%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{children:"Arrival"})}),o.jsx(w,{style:{width:"17.25%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{children:"Departure"})}),o.jsx(w,{style:{width:"10%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{children:"Hours"})}),o.jsx(w,{style:{width:"13%",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{children:"Minutes"})})]},x),Array.from({length:31},(P,j)=>{var z,X,se,he;const E=j+1,I=new Date(a,s-1,E).getDay(),g=I===0?"Sunday":I===6?"Saturday":"",D=((z=u[E])==null?void 0:z.I)||"",O=((X=u[E])==null?void 0:X.O)||"",F=((se=u[E])==null?void 0:se.i)||"",G=((he=u[E])==null?void 0:he.o)||"",_=d[E]||[],B=H=>{if(!H||typeof H!="string")return"";const[V,me]=H.split(":").map(Number);return isNaN(V)||isNaN(me)?"":`${(V>=1&&V<=11?V+12:V).toString().padStart(2,"0")}:${me.toString().padStart(2,"0")}`};return g||_.length>0?o.jsxs(w,{style:{flexDirection:"row",borderBottom:.5,alignItems:"center",height:12,fontSize:7,textAlign:"center"},children:[o.jsx(w,{style:{width:"8%",borderRight:.5,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:o.jsxs(R,{style:{textAlign:"center",marginTop:2},children:[E," "]})}),(_==null?void 0:_.length)>0?_==null?void 0:_.map((H,V)=>{if(H.period===1)return o.jsx(w,{style:{width:"69%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:`${H.description}`})},V);if(H.period===2)return o.jsxs(o.Fragment,{children:[o.jsx(w,{style:{width:"34.5%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:`${H.description}`})},V),o.jsx(w,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:y(G,O)})}),o.jsx(w,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:m(O)})})]});if(H.period===3)return o.jsxs(o.Fragment,{children:[o.jsx(w,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:f(D)})}),o.jsx(w,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:C(F,D)})}),o.jsx(w,{style:{width:"34.5%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:`${H.description}`})},V)]})}):g?o.jsx(w,{style:{width:"69%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center",backgroundColor:"#c7e8f0"},children:o.jsxs(R,{style:{textAlign:"center",marginTop:2},children:[g||_||`${g}`," ",D?`-${f(D)}`:"","   ",O?`| ${m(O)}`:""," "]})}):"",o.jsx(w,{style:{width:"10%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2}})}),o.jsx(w,{style:{width:"10%",paddingLeft:2,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2}})})]},j):o.jsxs(w,{style:{flexDirection:"row",borderBottom:.5,alignItems:"center",height:12,fontSize:7,textAlign:"center"},children:[o.jsx(w,{style:{width:"8%",borderRight:.5,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:o.jsxs(R,{style:{textAlign:"center",marginTop:2},children:[E," ",g&&`(${g})`]})}),o.jsx(w,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:f(D)})}),o.jsx(w,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:C(F,D)})}),o.jsx(w,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:y(G,O)})}),o.jsx(w,{style:{width:"17.25%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:m(O)})}),o.jsx(w,{style:{width:"10%",borderRight:.5,alignItems:"center",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:v(f(D),B(m(O))).hours})}),o.jsx(w,{style:{width:"10%",paddingLeft:2,height:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:v(f(D),B(m(O))).minutes})})]},j)}),o.jsxs(w,{style:{flexDirection:"row",borderBottom:"none",alignItems:"center",height:12},children:[o.jsx(w,{style:{width:"77%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"},children:o.jsx(R,{style:{textAlign:"center",marginTop:2},children:"Total"})}),o.jsx(w,{style:{width:"10%",borderRight:.5,paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"}}),o.jsx(w,{style:{width:"13%",paddingLeft:2,height:"100%",justifyContent:"center",textAlign:"center"}})]})]}),o.jsx(R,{style:{fontSize:7,marginTop:5,textAlign:"justify",fontStyle:"italic",fontWeight:100},children:"I certify on my honor that the above is a true and correct report of the hours of work performed, record of which was made daily at the time of arrival and departure from office."}),o.jsxs(w,{style:{fontSize:8,textAlign:"center",marginTop:20},children:[l&&o.jsx(et,{src:l,style:{width:"80px",position:"absolute",alignSelf:"center",objectFit:"contain",transform:"translateY(-30px)",zIndex:100}}),o.jsx(R,{style:{borderBottom:.5,paddingTop:2,fontStyle:"bold"},children:e?e.toUpperCase():""})]}),o.jsx(R,{style:{fontSize:7,marginTop:10,textAlign:"justify"},children:"VERIFIED as to the prescribed office hours."}),o.jsxs(w,{style:{fontSize:8,textAlign:"center",marginTop:30},children:[o.jsx(R,{style:{borderBottom:.5,paddingTop:2,fontStyle:"bold"}}),o.jsx(R,{style:{fontSize:7,fontStyle:"italic",marginTop:2},children:"Name and Signature of Immediate Supervisor"})]})]},x))})})};function na({name:e="",data:n,date:t,show:a,selectedYear:s,selectedMonth:l}){const[i,c]=r.useState(null),[u,d]=r.useState(null),f=r.useRef(null),[m,C]=r.useState(()=>localStorage.getItem("selectedSchedule")||"7");r.useEffect(()=>{localStorage.setItem("selectedSchedule",m)},[m]);const y=b=>{var h;const S=(h=b.target.files)==null?void 0:h[0];S&&(c(S),d(URL.createObjectURL(S)))},N=()=>{var b;(b=f.current)==null||b.click()},v=async()=>{const b=o.jsx($t,{name:(e==null?void 0:e.toUpperCase())||"",previewUrl:u,date:t,data:n,selectedSchedule:m,selectedYear:s,selectedMonth:l}),S=ar();S.updateContainer(b);const h=await S.toBlob(),P=await(await sr.load(await h.arrayBuffer())).save(),j=new Blob([P],{type:"application/pdf"}),E=document.createElement("a");E.href=URL.createObjectURL(j),E.download=`${e.toUpperCase()}_DTR_${t}.pdf`,E.click(),URL.revokeObjectURL(E.href)};return o.jsxs(Gn,{children:[o.jsx(Xn,{className:a?"  z-20 w-full flex gap-2 ":" flex gap-2 text-foreground z-20 w-full pointer-events-none  ",children:o.jsxs(Z,{type:"button",variant:a?"default":"outline",className:a?"  z-20 w-full flex gap-2 ":" flex gap-2 text-foreground z-20 w-full pointer-events-none ",children:["Show PDF ",o.jsx(qn,{className:a?" w-4 h-4 animate-bounce":" w-4 h-4 "})," "]})}),o.jsx(Zn,{title:"DTR",description:"Optional Description",children:o.jsx("div",{className:"h-[70vh] sm:h-[30vh]   w-full overflow-y-scroll sm:overflow-hidden  bg-white ",children:Jn?o.jsxs("div",{className:" flex w-full items-center justify-center h-20 gap-5",children:[o.jsxs(tt,{value:m,onValueChange:b=>{C(b)},children:[o.jsx("p",{children:"Schedule:"}),o.jsx(nt,{className:"w-[100px]",children:o.jsx(rt,{})}),o.jsxs(ot,{children:[o.jsx(M,{value:"5",children:"7:00-4:00"}),o.jsx(M,{value:"6",children:"7:30-4:30"}),o.jsx(M,{value:"7",children:"8:00-5:00"}),o.jsx(M,{value:"8",children:"8:30-5:30"}),o.jsx(M,{value:"9",children:"9:00-6:00"}),o.jsx(M,{value:"10",children:"9:30-6:30"}),o.jsx(M,{value:"11",children:"10:00-7:00"})]})]}),o.jsxs(Z,{onClick:v,value:"",children:["Save DTR  ",o.jsx(at,{className:" h-4 w-4 ml-2 animate-bounce"})," "]})]}):o.jsxs(r.Suspense,{fallback:o.jsx("div",{}),children:[o.jsxs("div",{className:" flex w-full items-center justify-center h-20 gap-5",children:[o.jsxs(tt,{value:m,onValueChange:b=>{C(b)},children:[o.jsx("p",{children:"Schedule:"}),o.jsx(nt,{className:"w-[100px]",children:o.jsx(rt,{})}),o.jsxs(ot,{children:[o.jsx(M,{value:"1",children:"5:00-2:00"}),o.jsx(M,{value:"2",children:"5:30-2:30"}),o.jsx(M,{value:"3",children:"6:00-3:00"}),o.jsx(M,{value:"4",children:"6:30-3:30"}),o.jsx(M,{value:"5",children:"7:00-4:00"}),o.jsx(M,{value:"6",children:"7:30-4:30"}),o.jsx(M,{value:"7",children:"8:00-5:00"}),o.jsx(M,{value:"8",children:"8:30-5:30"}),o.jsx(M,{value:"9",children:"9:00-6:00"}),o.jsx(M,{value:"10",children:"9:30-6:30"}),o.jsx(M,{value:"11",children:"10:00-7:00"})]})]}),o.jsxs(Z,{onClick:v,value:"",children:["Save DTR  ",o.jsx(at,{className:" h-4 w-4 ml-2 animate-bounce"})," "]}),o.jsx("input",{type:"file",accept:"image/*",onChange:y,ref:f,className:"hidden"}),o.jsx(Qn,{children:o.jsxs(er,{children:[o.jsx(tr,{asChild:!0,children:o.jsxs(Z,{onClick:N,variant:"outline",children:["Add Signature ",o.jsx(nr,{className:" h-4 w-4 ml-2"})," "]})}),o.jsx(rr,{children:o.jsx("p",{children:"image size 789x579"})})]})})]}),o.jsx(or,{className:"w-full h-full",children:o.jsx($t,{name:(e==null?void 0:e.toUpperCase())||"",previewUrl:u,selectedSchedule:m,date:t,data:n,selectedYear:s,selectedMonth:l})})]})})})]})}function ra(){var I;const[e,n]=r.useState({userId:null,fromDate:"",toDate:""}),t=g=>{const D=new Date(g),O=D.getMonth()+1,F=D.getFullYear();return{month:O,year:F}},[a,s]=r.useState(!1),[l,i]=r.useState(!1),[c,u]=r.useState([]),[d,f]=r.useState([]),[m,C]=r.useState([]);function y(){je.get("checkinoutregion/all",{headers:{Authorization:`Token ${localStorage.getItem("accessToken")}`}}).then(g=>{u(g.data)})}function N(){i(!0),je.post("checkinoutregion/filter_by_user_date/",{userId:localStorage.getItem("selectedID"),fromDate:e.fromDate,toDate:e.toDate},{headers:{Authorization:`Token ${localStorage.getItem("accessToken")}`}}).then(g=>{u(g.data),f(g.data),i(!1),s(!0),st.fire({icon:"success",title:"Table updated",showConfirmButton:!1,timer:2e3})})}function v(g){je.get(`${g}`,{headers:{Authorization:`Token ${localStorage.getItem("accessToken")}`}}).then(D=>{u(D.data)})}function b(){i(!0),je.get("users/all-users/",{headers:{Authorization:`Token ${localStorage.getItem("accessToken")}`}}).then(g=>{C(g.data),setTimeout(()=>{i(!1)},500)})}r.useEffect(()=>{let g=!0;return g&&(localStorage.setItem("selectedName",""),y(),b()),()=>{g=!1}},[]);function S(g){const D="https://edtr.pythonanywhere.com/api/v1/";return g.startsWith(D)?g.replace(D,""):g}const[h,x]=r.useState({key:"CHECKTIME",direction:"descingding"}),P=(I=c==null?void 0:c.results)==null?void 0:I.sort((g,D)=>g[h.key]<D[h.key]?h.direction==="ascending"?-1:1:g[h.key]>D[h.key]?h.direction==="ascending"?1:-1:0),j=g=>{let D="ascending";h.key===g&&h.direction==="ascending"&&(D="descending"),x({key:g,direction:D})};function E(g,D){const O=new Date(g),F=new Date(D),G=O.getDate(),_=F.getDate(),B=O.toLocaleString("en-US",{month:"long"}),z=O.getFullYear();return`${B} ${G}-${_}, ${z}`}return o.jsxs("div",{id:"printss",className:"  relative flex flex-col gap-4  mt-20 w-xl p-2 m-4 border border-border bg-primary-foreground rounded-md min-h-[130px]",children:[o.jsxs("div",{className:"flex p-4 justify-between items-center bg-primary mb-2",children:[o.jsx("p",{className:"text-white ",children:"LIST OF ATTENDANCE"}),o.jsx(fr,{className:"text-6xl text-white"})]}),o.jsxs("form",{onSubmit:g=>{g.preventDefault(),localStorage.getItem("selectedName")?N():st.fire({icon:"error",title:"Oops...",text:"Employee's name is blank...",showConfirmButton:!1})},className:" flex sm:flex-col items-end gap-2",children:[o.jsx(ta,{users:m,inputData:e.userId,setInputData:n}),o.jsxs("div",{className:" flex  sm:flex gap-2 w-full",children:[o.jsx(lt,{label:"From:",value:e.fromDate,onChange:g=>{n({...e,fromDate:g.target.value})},className:" text-foreground flex justify-between",type:"date"}),o.jsx(lt,{className:" text-foreground ",value:e.toDate,onChange:g=>{n({...e,toDate:g.target.value})},label:"To:",type:"date"})]}),o.jsxs(Z,{className:l?" sm:w-full pointer-events-none":" sm:w-full",children:["Filter",l?o.jsx(lr,{className:" ml-2 w-4 h-4 animate-spin"}):""]}),o.jsx("div",{className:a?" sm:w-full w-[400px]":" sm:w-full w-[400px]  cursor-not-allowed ",children:o.jsx(na,{name:localStorage.getItem("selectedName"),data:d,selectedYear:t(e.fromDate).year,selectedMonth:t(e.fromDate).month,show:a,date:E(e.fromDate,e.toDate)})})]}),o.jsx("div",{className:"overflow-auto bg-primary-foreground max-h-full",children:o.jsxs(cr,{children:[o.jsx(ir,{children:o.jsxs(Te,{children:[o.jsxs(we,{className:"w-[170px] border border-border text-white sticky top-0 bg-primary cursor-pointer",onClick:()=>j("full_name"),children:["Employee name ",h.key==="full_name"?h.direction==="ascending"?"":"":""]}),o.jsxs(we,{className:"text-white border border-border text-md sticky top-0 bg-primary cursor-pointer",onClick:()=>j("CHECKTIME"),children:["Checked date ",h.key==="CHECKTIME"?h.direction==="ascending"?"":"":""]}),o.jsxs(we,{className:"text-white border border-border text-md sticky top-0 bg-primary cursor-pointer",onClick:()=>j("CHECKTIME"),children:["Checked time ",h.key==="CHECKTIME"?h.direction==="ascending"?"":"":""]}),o.jsxs(we,{className:"text-white border border-border text-md sticky top-0 bg-primary cursor-pointer",onClick:()=>j("CHECKTYPE"),children:["Checked type ",h.key==="CHECKTYPE"?h.direction==="ascending"?"":"":""]})]})}),l?o.jsx(ct,{children:[1,2,3,4,5,6,7,8].map(g=>o.jsx(Te,{className:"border border-border",children:o.jsx(pe,{colSpan:4,children:o.jsx(ur,{className:" w-full h-[30px] py-3"})})},g))}):o.jsx(ct,{children:P?P.map((g,D)=>o.jsxs(Te,{className:"border border-border",children:[o.jsx(pe,{className:"font-small",children:g==null?void 0:g.full_name}),o.jsx(pe,{children:Ue(g.CHECKTIME).customLongDateFormat}),o.jsx(pe,{children:Ue(g==null?void 0:g.CHECKTIME).localeTime12HourFormat}),o.jsx(pe,{children:dr(g==null?void 0:g.CHECKTYPE)})]},D)):""})]})}),o.jsxs("div",{className:" flex gap-5",children:[o.jsx(Z,{className:c.previous?"":" bg-card text-foreground",variant:c.previous?"default":"ghost",onClick:()=>{c.previous&&v(S(c.previous))},children:"Prev"}),o.jsx(Z,{onClick:()=>{console.log(S(c.next)[0]=="c"),S(c.next)[0]=="c"&&c.next&&v(S(c.next))},children:"Next"})]})]})}function ca(){return o.jsx("div",{className:"  flex flex-col w-full overflow-hidden min-h-screen ",children:o.jsx(ra,{})})}export{ca as default};
